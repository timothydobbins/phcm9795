<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 9 Analysing non-normal data | PHCM9795 Foundations of Biostatistics</title>
  <meta name="description" content="Module 9 Analysing non-normal data | PHCM9795 Foundations of Biostatistics" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 9 Analysing non-normal data | PHCM9795 Foundations of Biostatistics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 9 Analysing non-normal data | PHCM9795 Foundations of Biostatistics" />
  
  
  

<meta name="author" content="Course notes" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="learning-activities-7.html"/>
<link rel="next" href="stata-resources-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PHCM9795 Foundations of Biostatistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i>Course information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#units-of-credit"><i class="fa fa-check"></i>Units of credit</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-aim"><i class="fa fa-check"></i>Course aim</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i>Learning outcomes</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html"><i class="fa fa-check"></i><b>1</b> Introduction to statistics and presenting data</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#readings"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="1.1" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#an-introduction-to-statistics"><i class="fa fa-check"></i><b>1.1</b> An introduction to statistics</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#descriptive-and-inferential-statistics"><i class="fa fa-check"></i><b>1.2</b> Descriptive and inferential statistics</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#variables"><i class="fa fa-check"></i><b>1.3</b> Variables</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#presenting-data"><i class="fa fa-check"></i><b>1.4</b> Presenting data</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#graphical-presentation"><i class="fa fa-check"></i><b>1.5</b> Graphical presentation</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#summary-statistics-and-variation-in-data"><i class="fa fa-check"></i><b>1.6</b> Summary statistics and variation in data</a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#population-values-mean-variance-and-standard-deviation"><i class="fa fa-check"></i><b>1.7</b> Population values: mean, variance and standard deviation</a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#using-graphs-to-display-the-centre-and-spread-of-the-data"><i class="fa fa-check"></i><b>1.8</b> Using graphs to display the centre and spread of the data</a></li>
<li class="chapter" data-level="1.9" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#how-to-report-summary-statistics"><i class="fa fa-check"></i><b>1.9</b> How to report summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html"><i class="fa fa-check"></i><strong>1</strong> An introduction to Stata</a>
<ul>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#learning-outcomes-1"><i class="fa fa-check"></i>Learning outcomes</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-1-a-simple-stata-analysis"><i class="fa fa-check"></i>Part 1: A simple Stata analysis</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-2-obtaining-basic-descriptive-statistics"><i class="fa fa-check"></i>Part 2: Obtaining basic descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-3-creating-other-types-of-graphs"><i class="fa fa-check"></i>Part 3: Creating other types of graphs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities.html"><a href="learning-activities.html"><i class="fa fa-check"></i><strong>1</strong> Learning Activities</a></li>
<li class="chapter" data-level="2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html"><i class="fa fa-check"></i><b>2</b> Probability and probability distributions</a>
<ul>
<li class="chapter" data-level="" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#readings-1"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="2.1" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#probability"><i class="fa fa-check"></i><b>2.2</b> Probability</a></li>
<li class="chapter" data-level="2.3" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#probability-distributions"><i class="fa fa-check"></i><b>2.3</b> Probability distributions</a></li>
<li class="chapter" data-level="2.4" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#discrete-variables-and-their-probability-distributions"><i class="fa fa-check"></i><b>2.4</b> Discrete variables and their probability distributions</a></li>
<li class="chapter" data-level="2.5" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#binomial-distribution"><i class="fa fa-check"></i><b>2.5</b> Binomial distribution</a></li>
<li class="chapter" data-level="2.6" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#normal-distribution"><i class="fa fa-check"></i><b>2.6</b> Normal distribution</a></li>
<li class="chapter" data-level="2.7" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#the-standard-normal-distribution"><i class="fa fa-check"></i><b>2.7</b> The Standard Normal distribution</a></li>
<li class="chapter" data-level="2.8" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#assessing-normality"><i class="fa fa-check"></i><b>2.8</b> Assessing Normality</a></li>
<li class="chapter" data-level="2.9" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#non-normally-distributed-measurements"><i class="fa fa-check"></i><b>2.9</b> Non-Normally distributed measurements</a></li>
<li class="chapter" data-level="2.10" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#parametric-and-non-parametric-statistical-methods"><i class="fa fa-check"></i><b>2.10</b> Parametric and non-parametric statistical methods</a></li>
<li class="chapter" data-level="2.11" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#other-types-of-probability-distributions"><i class="fa fa-check"></i><b>2.11</b> Other types of probability distributions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes.html"><a href="stata-notes.html"><i class="fa fa-check"></i><strong>2</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="2.12" data-path="stata-notes.html"><a href="stata-notes.html#importing-data-into-stata"><i class="fa fa-check"></i><b>2.12</b> Importing data into Stata</a></li>
<li class="chapter" data-level="2.13" data-path="stata-notes.html"><a href="stata-notes.html#checking-your-data-for-errors-in-stata"><i class="fa fa-check"></i><b>2.13</b> Checking your data for errors in Stata</a></li>
<li class="chapter" data-level="2.14" data-path="stata-notes.html"><a href="stata-notes.html#overlaying-a-normal-curve-on-a-histogram"><i class="fa fa-check"></i><b>2.14</b> Overlaying a Normal curve on a Histogram</a></li>
<li class="chapter" data-level="2.15" data-path="stata-notes.html"><a href="stata-notes.html#descriptive-statistics-for-checking-normality"><i class="fa fa-check"></i><b>2.15</b> Descriptive statistics for checking normality</a></li>
<li class="chapter" data-level="2.16" data-path="stata-notes.html"><a href="stata-notes.html#import-excel"><i class="fa fa-check"></i><b>2.16</b> Importing Excel data into Stata</a></li>
<li class="chapter" data-level="2.17" data-path="stata-notes.html"><a href="stata-notes.html#generating-new-variables"><i class="fa fa-check"></i><b>2.17</b> Generating new variables</a></li>
<li class="chapter" data-level="2.18" data-path="stata-notes.html"><a href="stata-notes.html#summarising-data-by-another-variable"><i class="fa fa-check"></i><b>2.18</b> Summarising data by another variable</a></li>
<li class="chapter" data-level="2.19" data-path="stata-notes.html"><a href="stata-notes.html#recoding-data"><i class="fa fa-check"></i><b>2.19</b> Recoding data</a></li>
<li class="chapter" data-level="2.20" data-path="stata-notes.html"><a href="stata-notes.html#computing-binomial-probabilities-using-the-hand-calculator-in-stata"><i class="fa fa-check"></i><b>2.20</b> Computing binomial probabilities using the Hand calculator in Stata</a></li>
<li class="chapter" data-level="2.21" data-path="stata-notes.html"><a href="stata-notes.html#computing-probabilities-from-the-normal-distribution-using-the-hand-calculator-in-stata"><i class="fa fa-check"></i><b>2.21</b> Computing probabilities from the normal distribution using the Hand calculator in Stata</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-1.html"><a href="learning-activities-1.html"><i class="fa fa-check"></i><strong>2</strong> Learning Activities</a></li>
<li class="chapter" data-level="3" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html"><i class="fa fa-check"></i><b>3</b> Precision, standard errors and confidence intervals</a>
<ul>
<li class="chapter" data-level="" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#readings-2"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="3.1" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#sampling-methods"><i class="fa fa-check"></i><b>3.2</b> Sampling methods</a></li>
<li class="chapter" data-level="3.3" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#standard-error-and-precision"><i class="fa fa-check"></i><b>3.3</b> Standard error and precision</a></li>
<li class="chapter" data-level="3.4" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#central-limit-theorem"><i class="fa fa-check"></i><b>3.4</b> Central limit theorem</a></li>
<li class="chapter" data-level="3.5" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#confidence-interval-of-the-mean"><i class="fa fa-check"></i><b>3.5</b> 95% confidence interval of the mean</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-1.html"><a href="stata-notes-1.html"><i class="fa fa-check"></i><strong>3</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="3.6" data-path="stata-notes-1.html"><a href="stata-notes-1.html#calculating-a-95-confidence-interval-of-a-mean"><i class="fa fa-check"></i><b>3.6</b> Calculating a 95% confidence interval of a mean</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-2.html"><a href="learning-activities-2.html"><i class="fa fa-check"></i><strong>3</strong> Learning Activities</a></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>4</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#readings-3"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>4.2</b> Hypothesis testing</a></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#effect-size"><i class="fa fa-check"></i><b>4.3</b> Effect size</a></li>
<li class="chapter" data-level="4.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance-and-clinical-importance"><i class="fa fa-check"></i><b>4.4</b> Statistical significance and clinical importance</a></li>
<li class="chapter" data-level="4.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#errors-in-significance-testing"><i class="fa fa-check"></i><b>4.5</b> Errors in significance testing</a></li>
<li class="chapter" data-level="4.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#confidence-intervals-in-hypothesis-testing"><i class="fa fa-check"></i><b>4.6</b> Confidence intervals in hypothesis testing</a></li>
<li class="chapter" data-level="4.7" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>4.7</b> One-sample t-test</a></li>
<li class="chapter" data-level="4.8" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-and-two-tailed-tests"><i class="fa fa-check"></i><b>4.8</b> One and two tailed tests</a></li>
<li class="chapter" data-level="4.9" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#a-note-on-p-values-displayed-by-software"><i class="fa fa-check"></i><b>4.9</b> A note on P-values displayed by software</a></li>
<li class="chapter" data-level="4.10" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#decision-tree"><i class="fa fa-check"></i><b>4.10</b> Decision Tree</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-2.html"><a href="stata-notes-2.html"><i class="fa fa-check"></i><strong>4</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="4.11" data-path="stata-notes-2.html"><a href="stata-notes-2.html#one-sample-t-test-1"><i class="fa fa-check"></i><b>4.11</b> One sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-3.html"><a href="learning-activities-3.html"><i class="fa fa-check"></i><strong>4</strong> Learning Activities</a></li>
<li class="chapter" data-level="5" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html"><i class="fa fa-check"></i><b>5</b> Comparing the means of two groups</a>
<ul>
<li class="chapter" data-level="" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#learning-objectives-4"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#readings-4"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="5.1" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#independent-samples-t-test"><i class="fa fa-check"></i><b>5.2</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.3" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#paired-t-tests"><i class="fa fa-check"></i><b>5.3</b> Paired t-tests</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-3.html"><a href="stata-notes-3.html"><i class="fa fa-check"></i><strong>5</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="5.4" data-path="stata-notes-3.html"><a href="stata-notes-3.html#checking-data-for-the-independent-samples-t-test"><i class="fa fa-check"></i><b>5.4</b> Checking data for the independent samples t-test</a></li>
<li class="chapter" data-level="5.5" data-path="stata-notes-3.html"><a href="stata-notes-3.html#independent-samples-t-test-1"><i class="fa fa-check"></i><b>5.5</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.6" data-path="stata-notes-3.html"><a href="stata-notes-3.html#checking-the-assumptions-for-a-paired-t-test"><i class="fa fa-check"></i><b>5.6</b> Checking the assumptions for a Paired t-test</a></li>
<li class="chapter" data-level="5.7" data-path="stata-notes-3.html"><a href="stata-notes-3.html#paired-t-test"><i class="fa fa-check"></i><b>5.7</b> Paired t-Test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-4.html"><a href="learning-activities-4.html"><i class="fa fa-check"></i><strong>5</strong> Learning Activities</a></li>
<li class="chapter" data-level="6" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html"><i class="fa fa-check"></i><b>6</b> Summary statistics for binary data</a>
<ul>
<li class="chapter" data-level="" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#learning-objectives-5"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#readings-5"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="6.1" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#calculating-proportions-and-95-confidence-intervals"><i class="fa fa-check"></i><b>6.2</b> Calculating proportions and 95% confidence intervals</a></li>
<li class="chapter" data-level="6.3" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#hypothesis-testing-for-one-sample-proportion"><i class="fa fa-check"></i><b>6.3</b> Hypothesis testing for one sample proportion</a></li>
<li class="chapter" data-level="6.4" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#contingency-tables"><i class="fa fa-check"></i><b>6.4</b> Contingency tables</a></li>
<li class="chapter" data-level="6.5" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#a-brief-summary-of-epidemiological-study-types"><i class="fa fa-check"></i><b>6.5</b> A brief summary of epidemiological study types</a></li>
<li class="chapter" data-level="6.6" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#measures-of-effect-for-epidemiological-studies"><i class="fa fa-check"></i><b>6.6</b> Measures of effect for epidemiological studies</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-4.html"><a href="stata-notes-4.html"><i class="fa fa-check"></i><strong>6</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="6.7" data-path="stata-notes-4.html"><a href="stata-notes-4.html#confidence-intervals-for-proportions"><i class="fa fa-check"></i><b>6.7</b> 95% confidence intervals for proportions</a></li>
<li class="chapter" data-level="6.8" data-path="stata-notes-4.html"><a href="stata-notes-4.html#significance-test-for-single-proportion"><i class="fa fa-check"></i><b>6.8</b> Significance test for single proportion</a></li>
<li class="chapter" data-level="6.9" data-path="stata-notes-4.html"><a href="stata-notes-4.html#computing-a-relative-risk-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.9</b> Computing a relative risk and its 95% confidence interval</a></li>
<li class="chapter" data-level="6.10" data-path="stata-notes-4.html"><a href="stata-notes-4.html#computing-an-odds-ratio-and-its-95ci"><i class="fa fa-check"></i><b>6.10</b> Computing an odds ratio and its 95%CI</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-5.html"><a href="learning-activities-5.html"><i class="fa fa-check"></i><strong>6</strong> Learning Activities</a></li>
<li class="chapter" data-level="7" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html"><i class="fa fa-check"></i><b>7</b> Hypothesis testing for categorical data</a>
<ul>
<li class="chapter" data-level="" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#learning-objectives-6"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#readings-6"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="7.1" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#introduction-6"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#chi-squared-test-for-independent-proportions"><i class="fa fa-check"></i><b>7.2</b> Chi-squared test for independent proportions</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#chi-squared-tests-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.3</b> Chi-squared tests for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#mcnemars-test-for-categorical-paired-data"><i class="fa fa-check"></i><b>7.4</b> McNemar’s test for categorical paired data</a></li>
<li class="chapter" data-level="7.5" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#summary"><i class="fa fa-check"></i><b>7.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources.html"><a href="stata-resources.html"><i class="fa fa-check"></i><strong>7</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="7.6" data-path="stata-resources.html"><a href="stata-resources.html#pearsons-chi-squared-test"><i class="fa fa-check"></i><b>7.6</b> Pearson’s chi-squared test</a></li>
<li class="chapter" data-level="7.7" data-path="stata-resources.html"><a href="stata-resources.html#chi-squared-test-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.7</b> Chi-squared test for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.8" data-path="stata-resources.html"><a href="stata-resources.html#mcnemars-test-for-paired-proportions"><i class="fa fa-check"></i><b>7.8</b> McNemar’s test for paired proportions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-6.html"><a href="learning-activities-6.html"><i class="fa fa-check"></i><strong>7</strong> Learning Activities</a></li>
<li class="chapter" data-level="8" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html"><i class="fa fa-check"></i><b>8</b> Correlation and linear regression</a>
<ul>
<li class="chapter" data-level="" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#learning-objectives-7"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#readings-7"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="8.1" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#correlation"><i class="fa fa-check"></i><b>8.2</b> Correlation</a></li>
<li class="chapter" data-level="8.3" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#linear-regression"><i class="fa fa-check"></i><b>8.3</b> Linear regression</a></li>
<li class="chapter" data-level="8.4" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#obtaining-a-regression-equation-in-stata"><i class="fa fa-check"></i><b>8.4</b> Obtaining a regression equation in Stata</a></li>
<li class="chapter" data-level="8.5" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>8.5</b> Multiple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-5.html"><a href="stata-notes-5.html"><i class="fa fa-check"></i><strong>8</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="8.6" data-path="stata-notes-5.html"><a href="stata-notes-5.html#creating-a-scatter-plot"><i class="fa fa-check"></i><b>8.6</b> Creating a scatter plot</a></li>
<li class="chapter" data-level="8.7" data-path="stata-notes-5.html"><a href="stata-notes-5.html#calculating-a-correlation-coefficient"><i class="fa fa-check"></i><b>8.7</b> Calculating a correlation coefficient</a></li>
<li class="chapter" data-level="8.8" data-path="stata-notes-5.html"><a href="stata-notes-5.html#fitting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>8.8</b> Fitting a simple linear regression model</a></li>
<li class="chapter" data-level="8.9" data-path="stata-notes-5.html"><a href="stata-notes-5.html#plotting-residuals-from-a-simple-linear-regression"><i class="fa fa-check"></i><b>8.9</b> Plotting residuals from a simple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-7.html"><a href="learning-activities-7.html"><i class="fa fa-check"></i><strong>8</strong> Learning Activities</a></li>
<li class="chapter" data-level="9" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html"><i class="fa fa-check"></i><b>9</b> Analysing non-normal data</a>
<ul>
<li class="chapter" data-level="" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#learning-objectives-8"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#readings-8"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="9.1" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#introduction-8"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#transforming-non-normally-distributed-variables"><i class="fa fa-check"></i><b>9.2</b> Transforming non-normally distributed variables</a></li>
<li class="chapter" data-level="9.3" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-significance-tests"><i class="fa fa-check"></i><b>9.3</b> Non-parametric significance tests</a></li>
<li class="chapter" data-level="9.4" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-test-for-two-independent-samples-wilcoxon-ranked-sum-test"><i class="fa fa-check"></i><b>9.4</b> Non-parametric test for two independent samples (Wilcoxon ranked sum test)</a></li>
<li class="chapter" data-level="9.5" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-test-for-paired-data-wilcoxon-signed-rank-test"><i class="fa fa-check"></i><b>9.5</b> Non-parametric test for paired data (Wilcoxon signed-rank test)</a></li>
<li class="chapter" data-level="9.6" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-estimates-of-correlation"><i class="fa fa-check"></i><b>9.6</b> Non-parametric estimates of correlation</a></li>
<li class="chapter" data-level="9.7" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#summary-1"><i class="fa fa-check"></i><b>9.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources-1.html"><a href="stata-resources-1.html"><i class="fa fa-check"></i><strong>9</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="9.8" data-path="stata-resources-1.html"><a href="stata-resources-1.html#transforming-non-normally-distributed-variables-1"><i class="fa fa-check"></i><b>9.8</b> Transforming non-normally distributed variables</a></li>
<li class="chapter" data-level="9.9" data-path="stata-resources-1.html"><a href="stata-resources-1.html#wilcoxon-ranked-sum-test"><i class="fa fa-check"></i><b>9.9</b> Wilcoxon ranked-sum test</a></li>
<li class="chapter" data-level="9.10" data-path="stata-resources-1.html"><a href="stata-resources-1.html#wilcoxon-matched-pairs-signed-rank-test"><i class="fa fa-check"></i><b>9.10</b> Wilcoxon matched-pairs signed-rank test</a></li>
<li class="chapter" data-level="9.11" data-path="stata-resources-1.html"><a href="stata-resources-1.html#estimating-rank-correlation-coefficients"><i class="fa fa-check"></i><b>9.11</b> Estimating rank correlation coefficients</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-8.html"><a href="learning-activities-8.html"><i class="fa fa-check"></i><strong>9</strong> Learning Activities</a></li>
<li class="chapter" data-level="10" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html"><i class="fa fa-check"></i><b>10</b> Sample size estimation</a>
<ul>
<li class="chapter" data-level="" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#learning-objectives-9"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#readings-9"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="10.1" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#introduction-9"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#sample-size-estimation-for-descriptive-studies"><i class="fa fa-check"></i><b>10.2</b> Sample size estimation for descriptive studies</a></li>
<li class="chapter" data-level="10.3" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#sample-size-estimation-for-analytical-studies"><i class="fa fa-check"></i><b>10.3</b> Sample size estimation for analytical studies</a></li>
<li class="chapter" data-level="10.4" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-the-difference-between-two-means"><i class="fa fa-check"></i><b>10.4</b> Detecting the difference between two means</a></li>
<li class="chapter" data-level="10.5" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-the-difference-between-two-proportions"><i class="fa fa-check"></i><b>10.5</b> Detecting the difference between two proportions</a></li>
<li class="chapter" data-level="10.6" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-an-association-using-a-relative-risk"><i class="fa fa-check"></i><b>10.6</b> Detecting an association using a relative risk</a></li>
<li class="chapter" data-level="10.7" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-an-association-using-an-odds-ratio"><i class="fa fa-check"></i><b>10.7</b> Detecting an association using an odds ratio</a></li>
<li class="chapter" data-level="10.8" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#factors-that-influence-power"><i class="fa fa-check"></i><b>10.8</b> Factors that influence power</a></li>
<li class="chapter" data-level="10.9" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#limitations-in-sample-size-estimations"><i class="fa fa-check"></i><b>10.9</b> Limitations in sample size estimations</a></li>
<li class="chapter" data-level="10.10" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#summary-2"><i class="fa fa-check"></i><b>10.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources-2.html"><a href="stata-resources-2.html"><i class="fa fa-check"></i><strong>10</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="10.11" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-two-independent-samples-t-test"><i class="fa fa-check"></i><b>10.11</b> Sample size calculation for two independent samples t-test</a></li>
<li class="chapter" data-level="10.12" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-paired-samples-t-test"><i class="fa fa-check"></i><b>10.12</b> Sample size calculation for paired samples t-test</a></li>
<li class="chapter" data-level="10.13" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-difference-between-two-independent-proportions"><i class="fa fa-check"></i><b>10.13</b> Sample size calculation for difference between two independent proportions</a></li>
<li class="chapter" data-level="10.14" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-with-relative-risk-and-odds-ratio"><i class="fa fa-check"></i><b>10.14</b> Sample size calculation with relative risk and odds ratio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-9.html"><a href="learning-activities-9.html"><i class="fa fa-check"></i><strong>10</strong> Learning Activities</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="z-table.html"><a href="z-table.html"><i class="fa fa-check"></i><b>A</b> z-table</a></li>
<li class="chapter" data-level="B" data-path="analysis-summary.html"><a href="analysis-summary.html"><i class="fa fa-check"></i><b>B</b> Analysis summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PHCM9795 Foundations of Biostatistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analysing-non-normal-data" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Module 9</span> Analysing non-normal data<a href="analysing-non-normal-data.html#analysing-non-normal-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-objectives-8" class="section level2 unnumbered hasAnchor">
<h2>Learning objectives<a href="analysing-non-normal-data.html#learning-objectives-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module you will be able to:</p>
<ul>
<li>Transform non-normally distributed variables;</li>
<li>Explain the purpose of non-parametric statistics and key principles for their use;</li>
<li>Calculate ranks for variables;</li>
<li>Conduct and interpret a non-parametric independent samples significance test;</li>
<li>Conduct and interpret a non-parametric paired samples significance test;</li>
<li>Calculate and interpret the Spearman rank correlation coefficient.</li>
</ul>
</div>
<div id="readings-8" class="section level2 unnumbered hasAnchor">
<h2>Readings<a href="analysing-non-normal-data.html#readings-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span class="citation">Kirkwood and Sterne (<a href="#ref-kirkwood_sterne01" role="doc-biblioref">2001</a>)</span>; Chapter 13. <a href="http://er1.library.unsw.edu.au/er/cgi-bin/eraccess.cgi?url=https://ebookcentral.proquest.com/lib/unsw/detail.action?docID=624728">[UNSW Library Link]</a></p>
<p><span class="citation">Bland (<a href="#ref-bland15" role="doc-biblioref">2015</a>)</span>; Chapter 12. <a href="http://er1.library.unsw.edu.au/er/cgi-bin/eraccess.cgi?url=https://ebookcentral.proquest.com/lib/unsw/detail.action?docID=5891730">[UNSW Library Link]</a></p>
<p><span class="citation">Acock (<a href="#ref-acock10" role="doc-biblioref">2010</a>)</span>; Section 7.11.</p>
</div>
<div id="introduction-8" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Introduction<a href="analysing-non-normal-data.html#introduction-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In general, parametric statistics are preferred for reporting data because the summary statistics (mean, standard deviation, standard error of the mean etc) and the tests used (t-tests, correlation, regression etc) are familiar and the results are easy to communicate. However, non-parametric tests can be used if data are not normally distributed. Non-parametric tests make fewer assumptions about the distribution of the data.</p>
</div>
<div id="transforming-non-normally-distributed-variables" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Transforming non-normally distributed variables<a href="analysing-non-normal-data.html#transforming-non-normally-distributed-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When a variable has a skewed distribution, one possibility is to transform the data to a new variable to try and obtain a normal or near normal distribution. Methods to transform non-normally distributed data include logarithmic transformation of each data point, or using the square root or the square or the inverse (i.e. 1/x) etc.</p>
<div id="worked-example-12" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Worked Example<a href="analysing-non-normal-data.html#worked-example-12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have data from 132 patients who had a hospital stay following admission to ICU available on Moodle (Example_9.1.dta). The distribution of the length of stay for these patients is shown in the histogram in Figure <a href="analysing-non-normal-data.html#fig:mod09-los">9.1</a>. As is common with variables that record time, the data are skewed with many patients having relatively short stays and a few patients having very long hospital stays. Clearly, it would not be possible to use parametric statistical methods for these data.</p>
<div class="figure"><span style="display:block;" id="fig:mod09-los"></span>
<img src="img/mod09/mod09-los.png" alt="Length of hospital stay for 132 patients" width="66%" />
<p class="caption">
Figure 9.1: Length of hospital stay for 132 patients
</p>
</div>
<p>When data are positively skewed, as shown in Figure <a href="analysing-non-normal-data.html#fig:mod09-los">9.1</a>, a logarithmic transformation can often make the data closer to being normally distributed. This is the most common transformation used. You should note, however, that the logarithmic function cannot handle 0 or negative values. One way to deal with zeros in a set of data is to add 1 to each value before taking the logarithm.</p>
<p>In Stata, we can use the generate command to obtain a new variable, as shown in the Stata Notes section. As the minimum length of stay in these sample data was 0, we have added 1 to each length of stay before taking the logarithm. The distribution of the logarithm of (length of stay + 1) is shown in Figure <a href="analysing-non-normal-data.html#fig:mod09-lnlos">9.2</a>.</p>
<div class="figure"><span style="display:block;" id="fig:mod09-lnlos"></span>
<img src="img/mod09/mod09-lnlos.png" alt="istribution of log transformed (length of stay + 1)" width="66%" />
<p class="caption">
Figure 9.2: istribution of log transformed (length of stay + 1)
</p>
</div>
<p>The distribution now appears much more bell shaped. Output 9.1 shows the descriptive statistics for length of stay before and after logarithmic transformation. Before transformation, the SD is almost as large as the mean value which indicates that the data are skewed and that these statistics are not an accurate description of the centre and spread of the data.</p>
<div id="stata-output-9.1-summary-statistics-for-untransformed-and-transformed-length-of-stay" class="section level4 unnumbered hasAnchor">
<h4>Stata Output 9.1: Summary statistics for untransformed and transformed length of stay<a href="analysing-non-normal-data.html#stata-output-9.1-summary-statistics-for-untransformed-and-transformed-length-of-stay" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre class="text"><code>                       Length of stay
-------------------------------------------------------------
      Percentiles      Smallest
 1%            1              0
 5%           13              1
10%           15              9       Obs                 132
25%         20.5             11       Sum of Wgt.         132

50%           27                      Mean           38.05303
                        Largest       Std. Dev.      35.78057
75%           42            138
90%           60            153       Variance       1280.249
95%          117            211       Skewness       3.175108
99%          211            244       Kurtosis       15.15463

                   log(Length of stay + 1)
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .6931472              0
 5%     2.639057       .6931472
10%     2.772589       2.302585       Obs                 132
25%     3.067783       2.484907       Sum of Wgt.         132

50%     3.332205                      Mean           3.407232
                        Largest       Std. Dev.      .7149892
75%       3.7612       4.934474
90%     4.110874       5.036952       Variance       .5112096
95%     4.770685       5.356586       Skewness      -.4932881
99%     5.356586       5.501258       Kurtosis       7.847303</code></pre>
<p>The mean and standard deviation of the transformed length of stay are in log base e (i.e. ln) units. If we raise the mean of the log of length of stay to the power of <span class="math inline">\(e\)</span>, it returns a value of 30.2 days (<span class="math inline">\(e^{3.41}=30.2\)</span>). To do this in Stata, you can use the display command that was shown in Module 2 and with the exponential function, <code>exp()</code>.</p>
<p>Technically, this is called the geometric mean of the data, and it has a different interpretation to the usual mean, the arithmetic mean. This is a much better estimate in this case of the “average” length of stay than the mean of 38.1 days (95% CI 31.9, 44.2 days) obtained from the non-transformed positively skewed data. Note that, if you have added 1 to your data to deal with 0 values, the back-transformed estimate is <em>approximately</em> equal to the geometric mean.</p>
<p>If we were testing the hypothesis that there was a difference in length of stay between groups (status of nosocomial infection), t-tests could not be used with length of stay but could be used for the log transformed variable, which is approximately normally distributed. The output from the t-test of the log-transformed length of stay is shown in Output 9.2. This is done using the t-test shown in Module 5.</p>
<p>[Command: <code>ttest ln_los, by(infect)</code>] How do you interpret the test statistics (i.e. the t-value and p-value)?</p>
</div>
<div id="stata-output-9.2-independent-samples-t-test-on-log-transformed-length-of-stay-data" class="section level4 unnumbered hasAnchor">
<h4>Stata Output 9.2: Independent samples t-test on log-transformed length of stay data<a href="analysing-non-normal-data.html#stata-output-9.2-independent-samples-t-test-on-log-transformed-length-of-stay-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre class="text"><code>Two-sample t test with equal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
      No |     106    3.328976     .068083    .7009579     3.19398    3.463972
     Yes |      26    3.726274    .1363363    .6951816    3.445484    4.007064
---------+--------------------------------------------------------------------
combined |     132    3.407232    .0622318    .7149892    3.284122    3.530341
---------+--------------------------------------------------------------------
    diff |           -.3972974    .1531626               -.7003113   -.0942835
------------------------------------------------------------------------------
    diff = mean(No) - mean(Yes)                                   t =  -2.5940
Ho: diff = 0                                     degrees of freedom =      130

    Ha: diff &lt; 0                 Ha: diff != 0                 Ha: diff &gt; 0
 Pr(T &lt; t) = 0.0053         Pr(|T| &gt; |t|) = 0.0106          Pr(T &gt; t) = 0.9947</code></pre>
<p>As explained above, the estimated statistics would need to be converted back to the units in which the variable was measured. From Output 9.2, we can take the exponential of the corresponding log-transformed values:</p>
<ul>
<li>the geometric mean of the infected group is approximately 41.5 days with a 95% confidence interval from 31.4 to 55.0 days.</li>
<li>the geometric mean of the uninfected group is approximately 27.9 days with a 95% confidence interval from 24.4 to 31.9 days.</li>
</ul>
</div>
</div>
</div>
<div id="non-parametric-significance-tests" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Non-parametric significance tests<a href="analysing-non-normal-data.html#non-parametric-significance-tests" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is often not possible or sensible to transform a non-normal distribution, for example if there are too many zero values or when we simply want to compare groups using the unit in which the measurement was taken (e.g. length of stay). For this, non-parametric significance tests can be used but the general idea behind these tests is that the data values are replaced by ranks. This also protects against outliers having too much influence.</p>
<div id="ranking-variables" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Ranking variables<a href="analysing-non-normal-data.html#ranking-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Table 9.1 shows how ranks are calculated for the first 21 patients in the length-of-stay data (Example_9.1.dta). First the data are sorted in order of their magnitude (from the lowest value to the highest) ignoring the group variable. Each data point is then assigned a rank. Data points that are equal are assigned the mean of their ranks. Thus, the two lengths of stay of 11 days share the ranks 4 and 5, and have a mean rank of 4.5. Similarly, there are 5 people with a length of stay of 14 days and these share the ranks 9 to 13, the mean of which is 11. Once ranks are computed they are assigned to each of the two groups and summed within each group.</p>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 95%; margin-left: auto; margin-right: auto;  " id="tab:tab-9-1">
<caption style="caption-side: top; text-align: center;"><span id="tab:tab-9-1">Table 9.1: </span> Transforming data to ranks: first 21 participants</caption><col><col><col><col><col><col><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;">ID</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Infection</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Length of stay</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Rank</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Infection=no</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;">Infection=Yes</th></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">32</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">33</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">12</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">9</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">22</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">16</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">28</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Yes</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">12</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">6</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">6</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">27</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">13</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">20</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">13</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">24</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">130</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">10</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">25</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">19</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">30</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">23</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">14</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">15</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">17</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">13</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">17</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">21</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Yes</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">17</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">20.5</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">17</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">No</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">17</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">20.5</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;"></td></tr>
</table>

<p>By assigning ranks to individuals, we lose information about their actual values and this makes it more difficult to detect a difference. However, outliers and extreme values in the data are brought back closer to the data so that they are less influential. For this reason, non-parametric tests have less power than parametric tests and they require much larger differences in the data to show statistical significance between groups.</p>
</div>
</div>
<div id="non-parametric-test-for-two-independent-samples-wilcoxon-ranked-sum-test" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Non-parametric test for two independent samples (Wilcoxon ranked sum test)<a href="analysing-non-normal-data.html#non-parametric-test-for-two-independent-samples-wilcoxon-ranked-sum-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The non-parametric equivalent to an independent samples t-test (Module 5) is the Wilcoxon ranked sum test, also known as the Mann-Whitney U test. In Stata, this can be obtained using the ranksum command.</p>
<p>The assumption for this test is that the distributions of the two populations have the same general shape. If this assumption is met, then this test evaluates the null hypothesis that the medians of the two populations are equal. This test does not assume that the populations are normally distributed, nor that their variances are equal.</p>
<p>For the length of stay data in the Worked Example 9.1, we first get a ranks table as shown in Output 9.3. The rank sum table gives us a direction of effect that the ranks are higher than expected in patients who had nosocomial infection. While the positive infection group has a lower sum of ranks because there were fewer people who contracted an infection, it is higher than expected, i.e. they have a longer length of stay compared with the negative infection group. This ranks table does not provide any summary statistics of direction of effect, central tendency or spread that describe the data.</p>
<div id="stata-output-9.3-wilcoxon-rank-sum-test" class="section level4 unnumbered hasAnchor">
<h4>Stata Output 9.3: Wilcoxon rank-sum test<a href="analysing-non-normal-data.html#stata-output-9.3-wilcoxon-rank-sum-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre class="text"><code>Two-sample Wilcoxon rank-sum (Mann-Whitney) test

      infect |      obs    rank sum    expected
-------------+---------------------------------
          No |      106        6620        7049
         Yes |       26        2158        1729
-------------+---------------------------------
    combined |      132        8778        8778

unadjusted variance    30545.67
adjustment for ties      -53.87
                     ----------
adjusted variance      30491.80

Ho: los(infect==No) = los(infect==Yes)
             z =  -2.457
    Prob &gt; |z| =   0.0140
    Exact Prob =   0.0135</code></pre>
<p>The test statistics are shown under the rank sum table in Output 9.3. The variance shown immediately under the table are used to conduct the test, and are not reported on.</p>
<p>From Output 9.3, there are two P-values shown: one assuming normality of the ranks (not the underlying data), and an “Exact” P-value. The exact P-value is calculated when the sample size is not too large (less than 200), and is preferred. The rounded exact P value is 0.014 which indicates that the there is evidence of a difference in length of stay between the groups. This P-value should be provided alongside non-parametric summary statistics such as medians and inter-quartile ranges.</p>
<p>Using the summary command with the detail option in Stata and splitting the LOS variable by the Infect variable (as shown in Module 5), we can obtain the median length of stay values of 24 (Interquartile Range: 19 to 40 days) in the group with no infection and 37 (Interquartile Range: 24 to 50 days) in the group with infection.</p>
</div>
</div>
<div id="non-parametric-test-for-paired-data-wilcoxon-signed-rank-test" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Non-parametric test for paired data (Wilcoxon signed-rank test)<a href="analysing-non-normal-data.html#non-parametric-test-for-paired-data-wilcoxon-signed-rank-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are two types of non-parametric tests for paired data, called the Sign test and the Wilcoxon signed rank test. In practice, the Sign test is rarely used and will not be discussed in this course.</p>
<p>If the differences between two paired measurements are not normally distributed, a non-parametric equivalent of a paired t-test (Module 5) should be used. The equivalent test is the Wilcoxon matched-pairs signed rank test, also simply called the Wilcoxon matched-pairs test. This test is resistant to outliers in the data, however the proportion of outliers in the sample should be small. This test evaluates the null hypothesis that the median of the paired differences is equal to zero.</p>
<p>In this test, the absolute differences between the paired scores are ranked and the difference scores that are equal to zero (i.e. scores where there is no difference between the pairs) are excluded. Thus, the test is not suitable when a large proportion of the differences are zero because the effective sample size is reduced considerably.</p>
<div id="worked-example-13" class="section level3 hasAnchor" number="9.5.1">
<h3><span class="header-section-number">9.5.1</span> Worked Example<a href="analysing-non-normal-data.html#worked-example-13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A crossover trial is done to compare symptom scores for two drugs in 11 people with arthritis (higher scores indicate more severe symptoms). The data are contained in Stata datafile file Example_9.2.dta. The data are shown in Table 9.2. The descriptive statistics indicate that the differences are not normally distributed. You can use the Explore function in Stata to determine this.</p>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 80%; margin-left: auto; margin-right: auto;  " id="tab:tab-9-2">
<caption style="caption-side: top; text-align: center;"><span id="tab:tab-9-2">Table 9.2: </span> Arthritis symptom scores for 11 patients after administering two drugs</caption><col><col><col><col><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;">Patient ID</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Score: Drug 1</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;">Score: Drug 2</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;">Difference (Drug 2 – Drug 1)</th></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">1</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">1</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">2</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">5</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">4</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">1</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">4</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">10</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">2</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">6</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">2</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">6</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">6</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">-5</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">7</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">6</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">4</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">8</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">4</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">9</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">5</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">3</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 0pt; font-weight: normal;">10</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">9</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">10</td><td style="vertical-align: top; text-align: center; white-space: normal; padding: 6pt 0pt 6pt 6pt; font-weight: normal;">1</td></tr>
<tr>
<td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">11</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8</td><td style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">1</td></tr>
</table>

<p>Before doing the analysis let us examine the distribution of the difference of symptom scores between the two drugs. As in Module 5, we first need to compute the difference between the symptom scores. To examine the distribution, we plot a histogram as shown in Figure <a href="analysing-non-normal-data.html#fig:mod09-diff-hist">9.3</a>.</p>
<div class="figure"><span style="display:block;" id="fig:mod09-diff-hist"></span>
<img src="img/mod09/mod09-diff-hist.png" alt="Distribution of difference in symptom scores between Drug 1 and Drug 2" width="66%" />
<p class="caption">
Figure 9.3: Distribution of difference in symptom scores between Drug 1 and Drug 2
</p>
</div>
<p>The histogram shows that the differences are not normally distributed. The data looks negatively skewed with a gap in the histogram between the values of -5 and 0. Therefore, it would not be appropriate to conduct a paired t-test. Hence, we conduct a non-parametric paired test (Wilcoxon matched-pairs signed-rank test).</p>
<p>A non-parametric paired test can be obtained in Stata using the signrank command and the results of the test are shown in Output 9.4.</p>
<div id="stata-output-9.4-wilcoxon-matched-pairs-signed-rank-test" class="section level4 unnumbered hasAnchor">
<h4>Stata Output 9.4: Wilcoxon matched-pairs signed-rank test<a href="analysing-non-normal-data.html#stata-output-9.4-wilcoxon-matched-pairs-signed-rank-test" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre class="text"><code>Wilcoxon signed-rank test

        sign |      obs   sum ranks    expected
-------------+---------------------------------
    positive |        1        10.5          33
    negative |       10        55.5          33
        zero |        0           0           0
-------------+---------------------------------
         all |       11          66          66

unadjusted variance      126.50
adjustment for ties       -1.63
adjustment for zeros       0.00
                     ----------
adjusted variance        124.88

Ho: drug_1 = drug_2
             z =  -2.013
    Prob &gt; |z| =   0.0441
    Exact Prob =   0.0459</code></pre>
<p>The table in Output 9.4 shows that there is 1 person who has a positive difference, where the symptom score on drug 2 that is smaller than that for drug 1 (i.e., drug 2 is better than drug 1); and 10 people who have a negative difference. No one has the same score for both drugs. The difference scores are ranked and the observed and expected sum of the ranks are shown in the output. This provides no intuitive summary statistics except to indicate which drug has higher ranks.</p>
<p>The test statistics are also shown under the table in Output 9.4. From the output, the exact P value of 0.046 indicates that there is evidence of a difference in symptom score between the two drugs.</p>
</div>
</div>
</div>
<div id="non-parametric-estimates-of-correlation" class="section level2 hasAnchor" number="9.6">
<h2><span class="header-section-number">9.6</span> Non-parametric estimates of correlation<a href="analysing-non-normal-data.html#non-parametric-estimates-of-correlation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Estimating correlation using Pearson’s correlation coefficient can be problematic when bivariate Normality cannot be assumed, or in the presence of outliers or skewness. There are two commonly used non-parametric alternatives to Pearson’s correlation coefficient: Spearman’s rank correlation (<span class="math inline">\(\rho\)</span> or rho), and Kendall’s rank correlation (<span class="math inline">\(\tau\)</span> or tau).</p>
<p>When estimating the correlation between x and y, Spearman’s rank correlation essentially replaces the observations x and y by their ranks, and calculates the correlation between the ranks. Kendall’s rank correlation compares the ranks between every possible combination of pairs of data to measure concordance: whether high values for x tend to be associated with high values for y (positively correlated) or low values of y (negatively correlated).</p>
<p>In terms of which is the more appropriate measure to use, the following passage from An Introduction to Medical Statistics (<span class="citation">Bland (<a href="#ref-bland15" role="doc-biblioref">2015</a>)</span>) provides some guidance:</p>
<blockquote>
<p>“Why have two different rank correlation coefficients? Spearman’s <span class="math inline">\(\rho\)</span> is older than Kendall’s <span class="math inline">\(\tau\)</span>, and can be thought of as a simple analogue of the product moment correlation coefficient, Pearson’s r. Kendall’s <span class="math inline">\(\tau\)</span> is a part of a more general and consistent system of ranking methods, and has a direct interpretation, as the difference between the proportions of concordant and discordant pairs. In general, the numerical value of <span class="math inline">\(\rho\)</span> is greater than that of <span class="math inline">\(\tau\)</span>. It is not possible to calculate <span class="math inline">\(\tau\)</span> from <span class="math inline">\(\rho\)</span> or <span class="math inline">\(\rho\)</span> from <span class="math inline">\(\tau\)</span>, they measure different sorts of correlation. <span class="math inline">\(\rho\)</span> gives more weight to reversals of order when data are far apart in rank than when there is a reversal close together in rank, <span class="math inline">\(\tau\)</span> does not. However, in terms of tests of significance, both have the same power to reject a false null hypothesis, so for this purpose it does not matter which is used.”</p>
</blockquote>
<p>We will illustrate estimating rank correlation using the Stata file <code>Example_8.1.dta</code>, which has information about height and lung function collected from a sample of 120 adults.</p>
<div id="stata-output-9.5-results-from-rank-correlation-analysis" class="section level4 unnumbered hasAnchor">
<h4>Stata Output 9.5: Results from rank correlation analysis<a href="analysing-non-normal-data.html#stata-output-9.5-results-from-rank-correlation-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre class="text"><code>. spearman Height FVC

 Number of obs =     120
Spearman&#39;s rho =       0.7476

Test of Ho: Height and FVC are independent
    Prob &gt; |t| =       0.0000

. ktau Height FVC

  Number of obs =     120
Kendall&#39;s tau-a =       0.5431
Kendall&#39;s tau-b =       0.5609
Kendall&#39;s score =    3878
    SE of score =     439.463   (corrected for ties)

Test of Ho: Height and FVC are independent
     Prob &gt; |z| =       0.0000  (continuity corrected)</code></pre>
<p>The Spearman rank correlation coefficient is estimated as 0.75, demonstrating a positive association between height and FVC.
Stata provides two versions of the Kendall rank correlation coefficient: we would use tau-b (<span class="math inline">\(\tau_b\)</span>) as it allows for tied observations. The Kendall rank correlation coefficient is estimated as 0.56, again demonstrating a positive association between height and FVC.</p>
</div>
</div>
<div id="summary-1" class="section level2 hasAnchor" number="9.7">
<h2><span class="header-section-number">9.7</span> Summary<a href="analysing-non-normal-data.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this module, we have presented methods to conduct a hypothesis test with data that are not normally distributed. Non-parametric methods do not assume any distribution for the data and use significance tests based on ranks or sign (or both). A non-parametric test is always less powerful than its equivalent parametric test if the data are normally distributed and so whenever possible parametric significance tests should be used. In some cases when data are not normally distributed with a reasonably large sample size, the data can be transformed (most commonly by log transformation) to make the distribution normal. A parametric significance test should then be used with the transformed data to test the hypothesis.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-acock10" class="csl-entry">
Acock, Alan C. 2010. <em>A <span>Gentle Introduction</span> to <span>Stata</span></em>. 3rd ed. <span>College Station, Tex</span>: <span>Stata Press</span>.
</div>
<div id="ref-bland15" class="csl-entry">
Bland, Martin. 2015. <em>An <span>Introduction</span> to <span>Medical Statistics</span></em>. 4th ed. <span>Oxford, New York</span>: <span>Oxford University Press</span>.
</div>
<div id="ref-kirkwood_sterne01" class="csl-entry">
Kirkwood, Betty, and Jonathan Sterne. 2001. <em>Essentials of <span>Medical Statistics</span></em>. 2nd ed. <span>Malden, Mass</span>: <span>Wiley-Blackwell</span>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="learning-activities-7.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="stata-resources-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PHCM9795.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
