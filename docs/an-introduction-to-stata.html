<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 An introduction to Stata | PHCM9795 Foundations of Biostatistics</title>
  <meta name="description" content="1 An introduction to Stata | PHCM9795 Foundations of Biostatistics" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="1 An introduction to Stata | PHCM9795 Foundations of Biostatistics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 An introduction to Stata | PHCM9795 Foundations of Biostatistics" />
  
  
  

<meta name="author" content="Course notes" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-statistics-and-presenting-data.html"/>
<link rel="next" href="learning-activities.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PHCM9795 Foundations of Biostatistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i>Course information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#units-of-credit"><i class="fa fa-check"></i>Units of credit</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-aim"><i class="fa fa-check"></i>Course aim</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i>Learning outcomes</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html"><i class="fa fa-check"></i><b>1</b> Introduction to statistics and presenting data</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#readings"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="1.1" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#an-introduction-to-statistics"><i class="fa fa-check"></i><b>1.1</b> An introduction to statistics</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#descriptive-and-inferential-statistics"><i class="fa fa-check"></i><b>1.2</b> Descriptive and inferential statistics</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#variables"><i class="fa fa-check"></i><b>1.3</b> Variables</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#presenting-data"><i class="fa fa-check"></i><b>1.4</b> Presenting data</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#graphical-presentation"><i class="fa fa-check"></i><b>1.5</b> Graphical presentation</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#summary-statistics-and-variation-in-data"><i class="fa fa-check"></i><b>1.6</b> Summary statistics and variation in data</a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#population-values-mean-variance-and-standard-deviation"><i class="fa fa-check"></i><b>1.7</b> Population values: mean, variance and standard deviation</a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#using-graphs-to-display-the-centre-and-spread-of-the-data"><i class="fa fa-check"></i><b>1.8</b> Using graphs to display the centre and spread of the data</a></li>
<li class="chapter" data-level="1.9" data-path="introduction-to-statistics-and-presenting-data.html"><a href="introduction-to-statistics-and-presenting-data.html#how-to-report-summary-statistics"><i class="fa fa-check"></i><b>1.9</b> How to report summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html"><i class="fa fa-check"></i><strong>1</strong> An introduction to Stata</a>
<ul>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#learning-outcomes-1"><i class="fa fa-check"></i>Learning outcomes</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-1-a-simple-stata-analysis"><i class="fa fa-check"></i>Part 1: A simple Stata analysis</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-2-obtaining-basic-descriptive-statistics"><i class="fa fa-check"></i>Part 2: Obtaining basic descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="an-introduction-to-stata.html"><a href="an-introduction-to-stata.html#part-3-creating-other-types-of-graphs"><i class="fa fa-check"></i>Part 3: Creating other types of graphs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities.html"><a href="learning-activities.html"><i class="fa fa-check"></i><strong>1</strong> Learning Activities</a></li>
<li class="chapter" data-level="2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html"><i class="fa fa-check"></i><b>2</b> Probability and probability distributions</a>
<ul>
<li class="chapter" data-level="" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#readings-1"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="2.1" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#probability"><i class="fa fa-check"></i><b>2.2</b> Probability</a></li>
<li class="chapter" data-level="2.3" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#probability-distributions"><i class="fa fa-check"></i><b>2.3</b> Probability distributions</a></li>
<li class="chapter" data-level="2.4" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#discrete-variables-and-their-probability-distributions"><i class="fa fa-check"></i><b>2.4</b> Discrete variables and their probability distributions</a></li>
<li class="chapter" data-level="2.5" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#binomial-distribution"><i class="fa fa-check"></i><b>2.5</b> Binomial distribution</a></li>
<li class="chapter" data-level="2.6" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#normal-distribution"><i class="fa fa-check"></i><b>2.6</b> Normal distribution</a></li>
<li class="chapter" data-level="2.7" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#the-standard-normal-distribution"><i class="fa fa-check"></i><b>2.7</b> The Standard Normal distribution</a></li>
<li class="chapter" data-level="2.8" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#assessing-normality"><i class="fa fa-check"></i><b>2.8</b> Assessing Normality</a></li>
<li class="chapter" data-level="2.9" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#non-normally-distributed-measurements"><i class="fa fa-check"></i><b>2.9</b> Non-Normally distributed measurements</a></li>
<li class="chapter" data-level="2.10" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#parametric-and-non-parametric-statistical-methods"><i class="fa fa-check"></i><b>2.10</b> Parametric and non-parametric statistical methods</a></li>
<li class="chapter" data-level="2.11" data-path="probability-and-probability-distributions.html"><a href="probability-and-probability-distributions.html#other-types-of-probability-distributions"><i class="fa fa-check"></i><b>2.11</b> Other types of probability distributions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes.html"><a href="stata-notes.html"><i class="fa fa-check"></i><strong>2</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="2.12" data-path="stata-notes.html"><a href="stata-notes.html#importing-data-into-stata"><i class="fa fa-check"></i><b>2.12</b> Importing data into Stata</a></li>
<li class="chapter" data-level="2.13" data-path="stata-notes.html"><a href="stata-notes.html#checking-your-data-for-errors-in-stata"><i class="fa fa-check"></i><b>2.13</b> Checking your data for errors in Stata</a></li>
<li class="chapter" data-level="2.14" data-path="stata-notes.html"><a href="stata-notes.html#overlaying-a-normal-curve-on-a-histogram"><i class="fa fa-check"></i><b>2.14</b> Overlaying a Normal curve on a Histogram</a></li>
<li class="chapter" data-level="2.15" data-path="stata-notes.html"><a href="stata-notes.html#descriptive-statistics-for-checking-normality"><i class="fa fa-check"></i><b>2.15</b> Descriptive statistics for checking normality</a></li>
<li class="chapter" data-level="2.16" data-path="stata-notes.html"><a href="stata-notes.html#import-excel"><i class="fa fa-check"></i><b>2.16</b> Importing Excel data into Stata</a></li>
<li class="chapter" data-level="2.17" data-path="stata-notes.html"><a href="stata-notes.html#generating-new-variables"><i class="fa fa-check"></i><b>2.17</b> Generating new variables</a></li>
<li class="chapter" data-level="2.18" data-path="stata-notes.html"><a href="stata-notes.html#summarising-data-by-another-variable"><i class="fa fa-check"></i><b>2.18</b> Summarising data by another variable</a></li>
<li class="chapter" data-level="2.19" data-path="stata-notes.html"><a href="stata-notes.html#recoding-data"><i class="fa fa-check"></i><b>2.19</b> Recoding data</a></li>
<li class="chapter" data-level="2.20" data-path="stata-notes.html"><a href="stata-notes.html#computing-binomial-probabilities-using-the-hand-calculator-in-stata"><i class="fa fa-check"></i><b>2.20</b> Computing binomial probabilities using the Hand calculator in Stata</a></li>
<li class="chapter" data-level="2.21" data-path="stata-notes.html"><a href="stata-notes.html#computing-probabilities-from-the-normal-distribution-using-the-hand-calculator-in-stata"><i class="fa fa-check"></i><b>2.21</b> Computing probabilities from the normal distribution using the Hand calculator in Stata</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-1.html"><a href="learning-activities-1.html"><i class="fa fa-check"></i><strong>2</strong> Learning Activities</a></li>
<li class="chapter" data-level="3" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html"><i class="fa fa-check"></i><b>3</b> Precision, standard errors and confidence intervals</a>
<ul>
<li class="chapter" data-level="" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#readings-2"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="3.1" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#sampling-methods"><i class="fa fa-check"></i><b>3.2</b> Sampling methods</a></li>
<li class="chapter" data-level="3.3" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#standard-error-and-precision"><i class="fa fa-check"></i><b>3.3</b> Standard error and precision</a></li>
<li class="chapter" data-level="3.4" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#central-limit-theorem"><i class="fa fa-check"></i><b>3.4</b> Central limit theorem</a></li>
<li class="chapter" data-level="3.5" data-path="precision-standard-errors-and-confidence-intervals.html"><a href="precision-standard-errors-and-confidence-intervals.html#confidence-interval-of-the-mean"><i class="fa fa-check"></i><b>3.5</b> 95% confidence interval of the mean</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-1.html"><a href="stata-notes-1.html"><i class="fa fa-check"></i><strong>3</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="3.6" data-path="stata-notes-1.html"><a href="stata-notes-1.html#calculating-a-95-confidence-interval-of-a-mean"><i class="fa fa-check"></i><b>3.6</b> Calculating a 95% confidence interval of a mean</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-2.html"><a href="learning-activities-2.html"><i class="fa fa-check"></i><strong>3</strong> Learning Activities</a></li>
<li class="chapter" data-level="4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>4</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#readings-3"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>4.2</b> Hypothesis testing</a></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#effect-size"><i class="fa fa-check"></i><b>4.3</b> Effect size</a></li>
<li class="chapter" data-level="4.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#statistical-significance-and-clinical-importance"><i class="fa fa-check"></i><b>4.4</b> Statistical significance and clinical importance</a></li>
<li class="chapter" data-level="4.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#errors-in-significance-testing"><i class="fa fa-check"></i><b>4.5</b> Errors in significance testing</a></li>
<li class="chapter" data-level="4.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#confidence-intervals-in-hypothesis-testing"><i class="fa fa-check"></i><b>4.6</b> Confidence intervals in hypothesis testing</a></li>
<li class="chapter" data-level="4.7" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>4.7</b> One-sample t-test</a></li>
<li class="chapter" data-level="4.8" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-and-two-tailed-tests"><i class="fa fa-check"></i><b>4.8</b> One and two tailed tests</a></li>
<li class="chapter" data-level="4.9" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#a-note-on-p-values-displayed-by-software"><i class="fa fa-check"></i><b>4.9</b> A note on P-values displayed by software</a></li>
<li class="chapter" data-level="4.10" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#decision-tree"><i class="fa fa-check"></i><b>4.10</b> Decision Tree</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-2.html"><a href="stata-notes-2.html"><i class="fa fa-check"></i><strong>4</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="4.11" data-path="stata-notes-2.html"><a href="stata-notes-2.html#one-sample-t-test-1"><i class="fa fa-check"></i><b>4.11</b> One sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-3.html"><a href="learning-activities-3.html"><i class="fa fa-check"></i><strong>4</strong> Learning Activities</a></li>
<li class="chapter" data-level="5" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html"><i class="fa fa-check"></i><b>5</b> Comparing the means of two groups</a>
<ul>
<li class="chapter" data-level="" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#learning-objectives-4"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#readings-4"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="5.1" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#independent-samples-t-test"><i class="fa fa-check"></i><b>5.2</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.3" data-path="comparing-the-means-of-two-groups.html"><a href="comparing-the-means-of-two-groups.html#paired-t-tests"><i class="fa fa-check"></i><b>5.3</b> Paired t-tests</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-3.html"><a href="stata-notes-3.html"><i class="fa fa-check"></i><strong>5</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="5.4" data-path="stata-notes-3.html"><a href="stata-notes-3.html#checking-data-for-the-independent-samples-t-test"><i class="fa fa-check"></i><b>5.4</b> Checking data for the independent samples t-test</a></li>
<li class="chapter" data-level="5.5" data-path="stata-notes-3.html"><a href="stata-notes-3.html#independent-samples-t-test-1"><i class="fa fa-check"></i><b>5.5</b> Independent samples t-test</a></li>
<li class="chapter" data-level="5.6" data-path="stata-notes-3.html"><a href="stata-notes-3.html#checking-the-assumptions-for-a-paired-t-test"><i class="fa fa-check"></i><b>5.6</b> Checking the assumptions for a Paired t-test</a></li>
<li class="chapter" data-level="5.7" data-path="stata-notes-3.html"><a href="stata-notes-3.html#paired-t-test"><i class="fa fa-check"></i><b>5.7</b> Paired t-Test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-4.html"><a href="learning-activities-4.html"><i class="fa fa-check"></i><strong>5</strong> Learning Activities</a></li>
<li class="chapter" data-level="6" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html"><i class="fa fa-check"></i><b>6</b> Summary statistics for binary data</a>
<ul>
<li class="chapter" data-level="" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#learning-objectives-5"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#readings-5"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="6.1" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#calculating-proportions-and-95-confidence-intervals"><i class="fa fa-check"></i><b>6.2</b> Calculating proportions and 95% confidence intervals</a></li>
<li class="chapter" data-level="6.3" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#hypothesis-testing-for-one-sample-proportion"><i class="fa fa-check"></i><b>6.3</b> Hypothesis testing for one sample proportion</a></li>
<li class="chapter" data-level="6.4" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#contingency-tables"><i class="fa fa-check"></i><b>6.4</b> Contingency tables</a></li>
<li class="chapter" data-level="6.5" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#a-brief-summary-of-epidemiological-study-types"><i class="fa fa-check"></i><b>6.5</b> A brief summary of epidemiological study types</a></li>
<li class="chapter" data-level="6.6" data-path="summary-statistics-for-binary-data.html"><a href="summary-statistics-for-binary-data.html#measures-of-effect-for-epidemiological-studies"><i class="fa fa-check"></i><b>6.6</b> Measures of effect for epidemiological studies</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-4.html"><a href="stata-notes-4.html"><i class="fa fa-check"></i><strong>6</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="6.7" data-path="stata-notes-4.html"><a href="stata-notes-4.html#confidence-intervals-for-proportions"><i class="fa fa-check"></i><b>6.7</b> 95% confidence intervals for proportions</a></li>
<li class="chapter" data-level="6.8" data-path="stata-notes-4.html"><a href="stata-notes-4.html#significance-test-for-single-proportion"><i class="fa fa-check"></i><b>6.8</b> Significance test for single proportion</a></li>
<li class="chapter" data-level="6.9" data-path="stata-notes-4.html"><a href="stata-notes-4.html#computing-a-relative-risk-and-its-95-confidence-interval"><i class="fa fa-check"></i><b>6.9</b> Computing a relative risk and its 95% confidence interval</a></li>
<li class="chapter" data-level="6.10" data-path="stata-notes-4.html"><a href="stata-notes-4.html#computing-an-odds-ratio-and-its-95ci"><i class="fa fa-check"></i><b>6.10</b> Computing an odds ratio and its 95%CI</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-5.html"><a href="learning-activities-5.html"><i class="fa fa-check"></i><strong>6</strong> Learning Activities</a></li>
<li class="chapter" data-level="7" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html"><i class="fa fa-check"></i><b>7</b> Hypothesis testing for categorical data</a>
<ul>
<li class="chapter" data-level="" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#learning-objectives-6"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#readings-6"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="7.1" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#introduction-6"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#chi-squared-test-for-independent-proportions"><i class="fa fa-check"></i><b>7.2</b> Chi-squared test for independent proportions</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#chi-squared-tests-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.3</b> Chi-squared tests for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#mcnemars-test-for-categorical-paired-data"><i class="fa fa-check"></i><b>7.4</b> McNemar’s test for categorical paired data</a></li>
<li class="chapter" data-level="7.5" data-path="hypothesis-testing-for-categorical-data.html"><a href="hypothesis-testing-for-categorical-data.html#summary"><i class="fa fa-check"></i><b>7.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources.html"><a href="stata-resources.html"><i class="fa fa-check"></i><strong>7</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="7.6" data-path="stata-resources.html"><a href="stata-resources.html#pearsons-chi-squared-test"><i class="fa fa-check"></i><b>7.6</b> Pearson’s chi-squared test</a></li>
<li class="chapter" data-level="7.7" data-path="stata-resources.html"><a href="stata-resources.html#chi-squared-test-for-tables-larger-than-2-by-2"><i class="fa fa-check"></i><b>7.7</b> Chi-squared test for tables larger than 2-by-2</a></li>
<li class="chapter" data-level="7.8" data-path="stata-resources.html"><a href="stata-resources.html#mcnemars-test-for-paired-proportions"><i class="fa fa-check"></i><b>7.8</b> McNemar’s test for paired proportions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-6.html"><a href="learning-activities-6.html"><i class="fa fa-check"></i><strong>7</strong> Learning Activities</a></li>
<li class="chapter" data-level="8" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html"><i class="fa fa-check"></i><b>8</b> Correlation and linear regression</a>
<ul>
<li class="chapter" data-level="" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#learning-objectives-7"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#readings-7"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="8.1" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#correlation"><i class="fa fa-check"></i><b>8.2</b> Correlation</a></li>
<li class="chapter" data-level="8.3" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#linear-regression"><i class="fa fa-check"></i><b>8.3</b> Linear regression</a></li>
<li class="chapter" data-level="8.4" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#obtaining-a-regression-equation-in-stata"><i class="fa fa-check"></i><b>8.4</b> Obtaining a regression equation in Stata</a></li>
<li class="chapter" data-level="8.5" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>8.5</b> Multiple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-notes-5.html"><a href="stata-notes-5.html"><i class="fa fa-check"></i><strong>8</strong> Stata notes</a>
<ul>
<li class="chapter" data-level="8.6" data-path="stata-notes-5.html"><a href="stata-notes-5.html#creating-a-scatter-plot"><i class="fa fa-check"></i><b>8.6</b> Creating a scatter plot</a></li>
<li class="chapter" data-level="8.7" data-path="stata-notes-5.html"><a href="stata-notes-5.html#calculating-a-correlation-coefficient"><i class="fa fa-check"></i><b>8.7</b> Calculating a correlation coefficient</a></li>
<li class="chapter" data-level="8.8" data-path="stata-notes-5.html"><a href="stata-notes-5.html#fitting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>8.8</b> Fitting a simple linear regression model</a></li>
<li class="chapter" data-level="8.9" data-path="stata-notes-5.html"><a href="stata-notes-5.html#plotting-residuals-from-a-simple-linear-regression"><i class="fa fa-check"></i><b>8.9</b> Plotting residuals from a simple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-7.html"><a href="learning-activities-7.html"><i class="fa fa-check"></i><strong>8</strong> Learning Activities</a></li>
<li class="chapter" data-level="9" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html"><i class="fa fa-check"></i><b>9</b> Analysing non-normal data</a>
<ul>
<li class="chapter" data-level="" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#learning-objectives-8"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#readings-8"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="9.1" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#introduction-8"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#transforming-non-normally-distributed-variables"><i class="fa fa-check"></i><b>9.2</b> Transforming non-normally distributed variables</a></li>
<li class="chapter" data-level="9.3" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-significance-tests"><i class="fa fa-check"></i><b>9.3</b> Non-parametric significance tests</a></li>
<li class="chapter" data-level="9.4" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-test-for-two-independent-samples-wilcoxon-ranked-sum-test"><i class="fa fa-check"></i><b>9.4</b> Non-parametric test for two independent samples (Wilcoxon ranked sum test)</a></li>
<li class="chapter" data-level="9.5" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-test-for-paired-data-wilcoxon-signed-rank-test"><i class="fa fa-check"></i><b>9.5</b> Non-parametric test for paired data (Wilcoxon signed-rank test)</a></li>
<li class="chapter" data-level="9.6" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#non-parametric-estimates-of-correlation"><i class="fa fa-check"></i><b>9.6</b> Non-parametric estimates of correlation</a></li>
<li class="chapter" data-level="9.7" data-path="analysing-non-normal-data.html"><a href="analysing-non-normal-data.html#summary-1"><i class="fa fa-check"></i><b>9.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources-1.html"><a href="stata-resources-1.html"><i class="fa fa-check"></i><strong>9</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="9.8" data-path="stata-resources-1.html"><a href="stata-resources-1.html#transforming-non-normally-distributed-variables-1"><i class="fa fa-check"></i><b>9.8</b> Transforming non-normally distributed variables</a></li>
<li class="chapter" data-level="9.9" data-path="stata-resources-1.html"><a href="stata-resources-1.html#wilcoxon-ranked-sum-test"><i class="fa fa-check"></i><b>9.9</b> Wilcoxon ranked-sum test</a></li>
<li class="chapter" data-level="9.10" data-path="stata-resources-1.html"><a href="stata-resources-1.html#wilcoxon-matched-pairs-signed-rank-test"><i class="fa fa-check"></i><b>9.10</b> Wilcoxon matched-pairs signed-rank test</a></li>
<li class="chapter" data-level="9.11" data-path="stata-resources-1.html"><a href="stata-resources-1.html#estimating-rank-correlation-coefficients"><i class="fa fa-check"></i><b>9.11</b> Estimating rank correlation coefficients</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-8.html"><a href="learning-activities-8.html"><i class="fa fa-check"></i><strong>9</strong> Learning Activities</a></li>
<li class="chapter" data-level="10" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html"><i class="fa fa-check"></i><b>10</b> Sample size estimation</a>
<ul>
<li class="chapter" data-level="" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#learning-objectives-9"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#readings-9"><i class="fa fa-check"></i>Readings</a></li>
<li class="chapter" data-level="10.1" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#introduction-9"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#sample-size-estimation-for-descriptive-studies"><i class="fa fa-check"></i><b>10.2</b> Sample size estimation for descriptive studies</a></li>
<li class="chapter" data-level="10.3" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#sample-size-estimation-for-analytical-studies"><i class="fa fa-check"></i><b>10.3</b> Sample size estimation for analytical studies</a></li>
<li class="chapter" data-level="10.4" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-the-difference-between-two-means"><i class="fa fa-check"></i><b>10.4</b> Detecting the difference between two means</a></li>
<li class="chapter" data-level="10.5" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-the-difference-between-two-proportions"><i class="fa fa-check"></i><b>10.5</b> Detecting the difference between two proportions</a></li>
<li class="chapter" data-level="10.6" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-an-association-using-a-relative-risk"><i class="fa fa-check"></i><b>10.6</b> Detecting an association using a relative risk</a></li>
<li class="chapter" data-level="10.7" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#detecting-an-association-using-an-odds-ratio"><i class="fa fa-check"></i><b>10.7</b> Detecting an association using an odds ratio</a></li>
<li class="chapter" data-level="10.8" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#factors-that-influence-power"><i class="fa fa-check"></i><b>10.8</b> Factors that influence power</a></li>
<li class="chapter" data-level="10.9" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#limitations-in-sample-size-estimations"><i class="fa fa-check"></i><b>10.9</b> Limitations in sample size estimations</a></li>
<li class="chapter" data-level="10.10" data-path="sample-size-estimation.html"><a href="sample-size-estimation.html#summary-2"><i class="fa fa-check"></i><b>10.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stata-resources-2.html"><a href="stata-resources-2.html"><i class="fa fa-check"></i><strong>10</strong> Stata resources</a>
<ul>
<li class="chapter" data-level="10.11" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-two-independent-samples-t-test"><i class="fa fa-check"></i><b>10.11</b> Sample size calculation for two independent samples t-test</a></li>
<li class="chapter" data-level="10.12" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-paired-samples-t-test"><i class="fa fa-check"></i><b>10.12</b> Sample size calculation for paired samples t-test</a></li>
<li class="chapter" data-level="10.13" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-for-difference-between-two-independent-proportions"><i class="fa fa-check"></i><b>10.13</b> Sample size calculation for difference between two independent proportions</a></li>
<li class="chapter" data-level="10.14" data-path="stata-resources-2.html"><a href="stata-resources-2.html#sample-size-calculation-with-relative-risk-and-odds-ratio"><i class="fa fa-check"></i><b>10.14</b> Sample size calculation with relative risk and odds ratio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="learning-activities-9.html"><a href="learning-activities-9.html"><i class="fa fa-check"></i><strong>10</strong> Learning Activities</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="z-table.html"><a href="z-table.html"><i class="fa fa-check"></i><b>A</b> z-table</a></li>
<li class="chapter" data-level="B" data-path="analysis-summary.html"><a href="analysis-summary.html"><i class="fa fa-check"></i><b>B</b> Analysis summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PHCM9795 Foundations of Biostatistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="an-introduction-to-stata" class="section level1 unnumbered hasAnchor">
<h1><strong>1</strong> An introduction to Stata<a href="an-introduction-to-stata.html#an-introduction-to-stata" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-outcomes-1" class="section level2 unnumbered hasAnchor">
<h2>Learning outcomes<a href="an-introduction-to-stata.html#learning-outcomes-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of these notes, you will be able to:</p>
<ul>
<li>navigate the Stata interface</li>
<li>input and import data into Stata</li>
<li>use Stata menus to summarise data</li>
<li>perform basic data transformations</li>
<li>assign variable and value labels</li>
<li>understand the difference between saving data and saving Stata output</li>
<li>copy Stata output to a standard word processing package</li>
</ul>
</div>
<div id="introduction" class="section level2 unnumbered hasAnchor">
<h2>Introduction<a href="an-introduction-to-stata.html#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Stata is a powerful statistical package that is relatively easy to use. It is commonly used in health research, as well as in other fields such as econometrics and social science. The aim of these notes is to introduce the Stata environment, and to introduce the commands and procedures that are directly relevant to this course. There is much more to Stata that we will cover in these notes, and more information will be provided throughout the course.</p>
</div>
<div id="part-1-a-simple-stata-analysis" class="section level2 unnumbered hasAnchor">
<h2>Part 1: A simple Stata analysis<a href="an-introduction-to-stata.html#part-1-a-simple-stata-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this very brief section, we will introduce Stata by calculating the average of six ages. If you are using Windows, open Stata by clicking: <strong>Start &gt; Stata 16 &gt; Stata SE</strong></p>
<p>If you are using MacOS, open Stata from the Applications folder. Note that while Stata is available for Windows and MacOS, most of the screenshots in these notes will be based on the Windows version.</p>
<p>When you first open Stata, it will look something like the following.</p>
<p><img src="img/mod01/stata/simple-01.png" width="75%" /></p>
<p>Each Stata session has a number of windows, which we will discuss later. For now, look in the top row of icons and find the icons that look like two grids: one with a pencil, and one with a magnifying glass: <img src="img/mod01/stata/data-browser-icons.png" />. Click the left icon, the one with the pencil. The following window will appear.</p>
<p><img src="img/mod01/stata/simple-02.png" width="75%" /></p>
<p>This window is known as the <strong>Data Editor</strong>, and is where data can be entered or changed. Enter the following six ages into Stata, starting at the top-left cell, by typing each number and then hitting Enter.</p>
<pre><code>20  25  23  29  21  27</code></pre>
<p>If you make a mistake, simply click the incorrect cell, and enter the correct value. Your screen should look like this:</p>
<p><img src="img/mod01/stata/simple-03.png" width="75%" /></p>
<p>There are two things to note here:</p>
<ol style="list-style-type: decimal">
<li>Data in Stata are entered down a column. In Stata, columns represent variables, and rows represent observations. So our six observations of age are entered in one column.</li>
<li>Stata has given the name of <code>var1</code> to our column of ages. We will fix this in a moment.</li>
</ol>
<p>Close the <strong>Data Editor</strong> window to return to the main Stata window. You will notice that the main Stata window now has some text that you might not understand. We will explain why shortly.</p>
<p>Let’s rename our variable from <code>var1</code> to <code>age</code>. There are a few ways you can do this in Stata, but one of the most convenient is to use the <strong>Variables Manager</strong> which can be accessed via <strong>Data &gt; Variables Manager</strong>:</p>
<p><img src="img/mod01/stata/variables-manager-01.png" width="75%" /></p>
<p>The <strong>Variables Manager</strong> is where you can change many variable properties, such as variable names or apply meaningful variable labels. Each variable is listed on a separate row, with aspects about each variable listed in the columns. To change the variable name, click <code>var1</code> in the <strong>Name</strong> column. Notice that information about that variable appears to the right of the window, in the <strong>Variable properties</strong> section.</p>
<p>In the <strong>Name</strong> section within <strong>Variable properties</strong>, click <code>var1</code> and replace it with <code>age</code>. Click <strong>Apply</strong> and notice that the variable’s name has been changed:</p>
<p><img src="img/mod01/stata/variables-manager-02.png" width="75%" /></p>
<p>Close the <strong>Variables manager</strong> window.</p>
<p>Some important points about variable names in Stata:
- any name you choose must be no more than 32 characters long;
- variable names must contain only letters, numbers and the underscore (_);
- variable names should start with a letter;
- variable names are case-sensitive (so age, Age and AGE could represent three different variables)</p>
<p>Now that we have entered our six ages, let’s calculate the mean age. Choose <strong>Statistics &gt; Summaries, tables and tests &gt; Summary and descriptive statistics &gt; Summary statistics</strong>. The <strong>summarize</strong> dialog box will appear. From the <strong>Variables</strong> drop-down box, select <code>age</code> as below:</p>
<p><img src="img/mod01/stata/simple-05.png" width="75%" /></p>
<p>Click <strong>OK</strong>, and the main Stata screen will appear as below.</p>
<p><img src="img/mod01/stata/simple-06.png" width="75%" /></p>
<p>The final text in the main window provides a summary of <code>age</code>: there are 6 observations, with a mean age of 24.2 years, a standard deviation of 3.49 years, a minimum of 20 and a maximum of 29 years.</p>
<div id="the-stata-environment" class="section level3 hasAnchor" number="1.9.1">
<h3><span class="header-section-number">1.9.1</span> The Stata environment<a href="an-introduction-to-stata.html#the-stata-environment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have seen a simple example of how to use Stata, let’s describe the Stata environment. The largest window in Stata is the <strong>Results</strong> window. This is where the results of your analyses appear, as well as any information, warnings or error messages. You may have noticed that the <strong>Results</strong> window also contains commands used to conduct analyses. For example, there is a command above summary output for age:</p>
<p><code>. summarize age</code></p>
<p>This command is generated by Stata based on the entries in the <strong>summarize</strong> dialog box. Stata is inherently a command-driven program: the menus and dialog boxes simply generate commands that Stata interprets, and these commands (and their results) are included in the Results window. While most menu items and dialog boxes can be replicated using commands, it is easier to learn Stata using the menus and dialog boxes. In later Modules, we will include the commands that can be used as alternatives to using the Stata menus.</p>
<p>The Stata windows are summarised below.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Window</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Results</td>
<td>Shows your issued commands, results output (e.g. tables) and error messages or warnings.</td>
</tr>
<tr class="even">
<td>Command</td>
<td>Where you can type in a command you want to run. The command window need not be used in this course</td>
</tr>
<tr class="odd">
<td>Variables</td>
<td>Gives a list of the variables in your currently opened dataset.</td>
</tr>
<tr class="even">
<td>Properties</td>
<td>Shows the properties of your currently selected variable (selected from the Variables window) and of your currently opened dataset.</td>
</tr>
<tr class="odd">
<td>History</td>
<td>Shows the history of your issued commands in your current session.</td>
</tr>
<tr class="even">
<td>Data Editor (Edit)</td>
<td>A separate window that allows you to edit or enter data.</td>
</tr>
<tr class="odd">
<td>Data Editor (Browse)</td>
<td>A separate window that allows you to view data: data cannot be edited.</td>
</tr>
</tbody>
</table>
<p>Stata allows you to perform most of your work by selecting options from the appropriate menus at the top of the main Stata window. A brief description of the main menu bar options follows.</p>
<p><strong>File</strong> includes all the options you typically use in other programs, such as Open, Save, Exit. Note, that you can open or create various types of new files. The main type of file we open or create in this course is a Stata data file (.dta). In the Advanced Biostatistics and Statistical Computing course (PHCM9517), we will also use other file types such as a .do file for scripting (or writing) Stata commands.</p>
<p><strong>Edit</strong> includes the typical Copy, and Paste commands.</p>
<p><strong>Data</strong> allows you to open the <strong>Data Editor</strong>. You can also create new variables and change current variables using <strong>Data &gt; Create or change data</strong>.</p>
<p><strong>Graphics</strong> includes the commands to create various types of graphs including box plots, histograms, scatterplots, line graphs, and bar charts.</p>
<p><strong>Statistics</strong> includes all the commands to carry out statistical analyses and perform power and sample size calculations. Much of this course will focus on using commands located in this menu.</p>
<p><strong>User</strong> is for saved files from other windows (e.g. saved graphs). You will not need to use this option in this course.</p>
<p><strong>Window</strong> can be used to select which window you want to view (e.g. Results, Data Editor).</p>
<p><strong>Help</strong> has many useful options including the viewing the PDF documentation, a Search function and other resources for using Stata. We will also demonstrate how to use helpful resources later in this introductory manual. Another useful Stata resource is the video tutorials produced by Stata: <a href="https://www.stata.com/links/video-tutorials/" class="uri">https://www.stata.com/links/video-tutorials/</a></p>
</div>
</div>
<div id="part-2-obtaining-basic-descriptive-statistics" class="section level2 unnumbered hasAnchor">
<h2>Part 2: Obtaining basic descriptive statistics<a href="an-introduction-to-stata.html#part-2-obtaining-basic-descriptive-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this exercise, we will analyse data to complete a descriptive table from a research study. The data come from a study in primary biliary cirrhosis, a condition of the liver, from <span class="citation">Therneau and Grambsch (<a href="#ref-therneau_grambsch10" role="doc-biblioref">2010</a>)</span>, Modeling Survival Data: Extending the Cox Model. By the end of this exercise, we will have completed the following table.</p>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 95%; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-8">
<caption style="caption-side: top; text-align: center;"><span id="tab:unnamed-chunk-8">Table 1.6: </span> Summary of 418 participants from the PBC study (Therneau and Grambsch, 2000)</caption><col><col><col><tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;">Characteristic</th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;"> </th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;">Summary</th></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Age (years)</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="2" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Sex</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Male</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Female</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">AST* (U/ml)</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Serum bilirubin</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">Mean (SD) or Median [IQR]</td></tr>
<tr>
<td rowspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Stage</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">I</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">II</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">III</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">IIIV</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td rowspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;">Vital status at study end</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: no transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Alive: transplant</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Deceased</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;">n (%)</td></tr>
<tr>
<td colspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">* asparate aminotransferase</td></tr>
</table>

<p>This table is available in Table1.docx, saved on Moodle.</p>
<div id="opening-a-stata-data-file" class="section level3 hasAnchor" number="1.9.2">
<h3><span class="header-section-number">1.9.2</span> Opening a Stata data file<a href="an-introduction-to-stata.html#opening-a-stata-data-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Typing data directly into Stata is not common; we usually open data that have been saved as a Stata data file, or import data that have been entered into another package. Here, we will open a dataset that has been stored as a Stata data file (which has the <code>.dta</code> suffix).</p>
<ol style="list-style-type: decimal">
<li>Locate the data set called <code>pbc.dta</code> on Moodle. Click the file to download it, and then save it in a folder you will be able to locate later - for example, your OneDrive folder. The description of this dataset (i.e. the metadata) have been saved as a plain text file: <code>pbc_info.txt</code></li>
<li>In Stata, choose <strong>File &gt; Open</strong>. Browse to where you stored the dataset and click <strong>Open</strong>.</li>
<li>You may get an error: “Data in memory have changed”. This means that you have not saved a copy of your current data, and by importing a new dataset, your changes will be lost. As Stata can only open one set of data at a time, you can choose to: Save your current data, Don’t Save your current data, or Cancel. We don’t need to save the data from our simple analysis (the six ages), so we can choose Don’t Save.</li>
</ol>
<p>After opening the data successfully, there will be 418 rows of data, and 20 variables. Examine the <code>pbc_info.txt</code> file for a description of each variable.</p>
</div>
<div id="assigning-variable-labels" class="section level3 hasAnchor" number="1.9.3">
<h3><span class="header-section-number">1.9.3</span> Assigning variable labels<a href="an-introduction-to-stata.html#assigning-variable-labels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we saw earlier, Stata has specific rules about variable names. Variable labels can be used to obtain more descriptive output. For example, the variable entered as bili can be labelled “Serum bilirubin (mg/dl)”.</p>
<p>To apply a variable label, open the Variables Manager: <strong>Data &gt; Variables Manager</strong>. Here we can click the variable to be labelled, and enter the new variable label and click <strong>Apply</strong>:</p>
<p><img src="img/mod01/stata/label-01.png" width="75%" /></p>
<p>The variable label will now be used in place of the variable name in most output:</p>
<pre class="text"><code>. summarize bili, detail

                   Serum bilirubin (mg/dl)
-------------------------------------------------------------
      Percentiles      Smallest
 1%           .4             .3
 5%           .5             .3
10%           .6             .3       Obs                 418
25%           .8             .4       Sum of Wgt.         418

50%          1.4                      Mean           3.220813
                        Largest       Std. Dev.      4.407506
75%          3.4           22.5
90%          8.1           24.5       Variance       19.42611
95%           14           25.5       Skewness       2.707849
99%         21.6             28       Kurtosis       10.95486</code></pre>
<p><strong>TASK:</strong> Assign meaningful variable labels to the variables used in Table 1.</p>
</div>
<div id="summarising-continuous-variables" class="section level3 hasAnchor" number="1.9.4">
<h3><span class="header-section-number">1.9.4</span> Summarising continuous variables<a href="an-introduction-to-stata.html#summarising-continuous-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we saw in Part 1, continuous variables can be summarised using <strong>Statistics &gt; Summaries, tables and tests &gt; Summary and descriptive statistics &gt; Summary statistics</strong>. There are three continuous variables that we would like to summarise: age, AST and serum bilirubin. Each of these can be listed in the <strong>summarize</strong> dialog box, as shown below.</p>
<p><img src="img/mod01/stata/summ-01.png" width="75%" /></p>
<p>By default, the summarize command calculates the mean, standard deviation, minimum and maximum. We may be interested in obtaining the median and interquartile ranges, so we select the <strong>Display additional statistics</strong> option:</p>
<p><img src="img/mod01/stata/summ-02.png" width="75%" /></p>
<p>Summary statistics are produced for each of the three variables. We will use describe the output for age:</p>
<p><img src="img/mod01/stata/summ-03.png" width="75%" /></p>
<p>The output for a detailed summary in Stata should be read as three separate columns. The right-most column lists the number of observations, the mean and standard deviation and other numeric statistics. The left-most column contains the Percentiles: median (50%), lower quartile (25%) and upper quartile (75%). The middle column lists the four smallest and four largest observations, so that we can assess whether the smallest and largest observations are plausible.</p>
<p>For each of our three continuous variables, we need to decide whether to present the mean and standard deviation, or the median and interquartile range. This decision can be made after examining a histogram and boxplot for each variable.</p>
</div>
<div id="producing-a-histogram" class="section level3 hasAnchor" number="1.9.5">
<h3><span class="header-section-number">1.9.5</span> Producing a histogram<a href="an-introduction-to-stata.html#producing-a-histogram" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To produce a histogram, go to menu <strong>Graphics &gt; Histogram</strong>. Choose the variable to be plotted in the <strong>Variable</strong> box, and choose the <strong>Frequency</strong> radio button so that a frequency histogram is produced. Note that only one variable can be plotted at a time, so this procedure will need to be repeated for each continuous variable.</p>
<p><img src="img/mod01/stata/hist-01.png" width="75%" /></p>
<p>The default histogram for age appears below.</p>
<p><img src="img/mod01/stata/hist-02.png" width="75%" /></p>
<p>Stata will automatically choose the number of bins and the width of each bin, however these decisions may not always produce the most optimal histogram. These options can be altered by defining either: the number of bins, or the bin width (but not both); and/or the lower limit of the first bin.</p>
<p>Looking at the command window, Stata has used the following parameters to define the histogram: bin=20, start=26.277892, width=2.6080767. This means that Stata has chosen 20 bins to represent the data, with the first bin starting at 26.2 years and each bin representing 2.6 years. A more easily read histogram might have a bin-width of 5, starting at 25 years of age, so that age categories represent 25 to less than 30, 30 to less than 35 etc, as defined below:</p>
<p><img src="img/mod01/stata/hist-03.png" width="75%" /></p>
<p>This results in a histogram with fewer bars and more sensible cut-points:
<img src="img/mod01/stata/hist-04.png" width="75%" /></p>
</div>
<div id="producing-a-boxplot" class="section level3 hasAnchor" number="1.9.6">
<h3><span class="header-section-number">1.9.6</span> Producing a boxplot<a href="an-introduction-to-stata.html#producing-a-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The boxplot dialog box is similar to the histogram dialog box. While it is possible to specify more than one variable to be plotted, this is not recommended when variables are measured on very different scales as all variables are plotted on a chart with the same scale.</p>
<p><strong>TASK:</strong> Obtain histograms and boxplots for age, AST and bilirubin. Based on these plots, decide whether the mean or the median is the appropriate summary to use for each variable. Transfer your summary statistics to Table 1.</p>
</div>
<div id="producing-a-one-way-frequency-table" class="section level3 hasAnchor" number="1.9.7">
<h3><span class="header-section-number">1.9.7</span> Producing a one-way frequency table<a href="an-introduction-to-stata.html#producing-a-one-way-frequency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have three categorical variables to summarise in Table 1: sex, stage and vital status. These variables are best summarised using one-way frequency tables.</p>
<p>Choose <strong>Statistics &gt; Summaries, tables, and tests &gt; Frequency tables &gt; One-way table</strong>. Choose the variable to be summarised as the <strong>Categorical variable</strong>, and leave all other options unchanged:</p>
<p><img src="img/mod01/stata/tab-01.png" width="75%" /></p>
<p>Click <strong>OK</strong> to obtain the following table:</p>
<pre class="text"><code>        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         44       10.53       10.53
          2 |        374       89.47      100.00
------------+-----------------------------------
      Total |        418      100.00</code></pre>
</div>
<div id="assigning-value-labels-to-categorical-variables" class="section level3 hasAnchor" number="1.9.8">
<h3><span class="header-section-number">1.9.8</span> Assigning value labels to categorical variables<a href="an-introduction-to-stata.html#assigning-value-labels-to-categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You will notice that the table above, in its current form, is uninterpretable as the 1 and 2 categories are not labelled. In this course, all variables including categorical variables are numerically coded. This is because “string” or “character” variables (e.g. entered as “male” or “female”) cannot be used in many of the analysis commands of Stata. Instead, we use numerical codes and assign labels to the categories.</p>
<p>There are two parts to applying value labels to categorical variables: 1) defining the labels, and 2) applying the labels to a variable. This may seem cumbersome, but there are times where we can apply value labels to a collection of variables (for example, multiple variables comprising yes/no categories, or Likert scales such as: strongly disagree, disagree, neutral, agree, strongly agree). Both parts can be done within the Variables Manager.</p>
<p><strong>Part 1:</strong> Defining the value labels</p>
<ol style="list-style-type: decimal">
<li>Open the Variables Manager: <strong>Data &gt; Variables Manager</strong> and select the variable you want to assign labels to (in this case, <code>sex</code>). You will see that the <strong>Value label</strong> in the <strong>Properties</strong> section is blank. To create a value label, click <strong>Manage</strong>.</li>
</ol>
<p>Alternatively, choose <strong>Data &gt; Data utilities &gt; Label utilities &gt; Manage value labels</strong>.</p>
<p><img src="img/mod01/stata/value-labels-01.png" width="75%" /></p>
<p>In the <strong>Manage value labels</strong> dialog box, click the <strong>Create label</strong> button.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>In the next dialog box, enter a name for the value label such as <code>sex_label</code> in the <strong>Label name:</strong> box. You can use the same name of the variable for the label, or choose a different name. Note: as for variables, the value label name is case-sensitive.</p></li>
<li><p>Next, we specify what each category (i.e. 1 and 2) represents. By checking the metadata document, we see that <code>1</code> represents “Male” and <code>2</code> represents “Female”. Type the number <code>1</code> in the <strong>Value:</strong> box and the word <code>Male</code> in the <strong>Label:</strong> box; then click the <strong>Add</strong> button. Then type the number <code>2</code> in the <strong>Value:</strong> box and the word <code>Female</code> in the <strong>Label:</strong> box; click the <strong>Add</strong> button again. The defined value labels for males and females should appear in the box on the left-hand side. When you are done, click the <strong>OK</strong> button.</p></li>
</ol>
<p><img src="img/mod01/stata/value-labels-02.png" width="75%" /></p>
<p>You will be returned to the <strong>Manage value labels</strong> dialog box, which will now have a record for <code>sex_label</code>. By clicking the arrow next to the label name, you will see the codes that you have defined:</p>
<p><img src="img/mod01/stata/value-labels-03.png" width="75%" /></p>
<p>At this point, you can close the <strong>Manage value labels</strong> dialog box by clicking <strong>Close</strong>.</p>
<p><strong>Part 2:</strong> Applying the value labels to a variable</p>
<p>Now that the labels are defined, we need to attach them to the relevant variables. Within the Variables Manager, click the variable to be labelled (here, <code>sex</code>). The previously defined label can be assigned to this variable by clicking the <strong>Value label</strong> drop-down menu, and choosing the appropriate label (here, <code>sex_label</code>), and clicking <strong>Apply</strong>:</p>
<p><img src="img/mod01/stata/value-labels-04-1.png" width="75%" /></p>
<p>Alternatively, go to <strong>Data &gt; Data utilities &gt; Label utilities &gt; Assign value label to variables</strong>. Select <code>sex</code> from the <strong>Variables:</strong> dropdown box, and select <code>sex_label</code> from the <strong>Value label:</strong> dropdown box. Click <strong>OK</strong>.</p>
<p><img src="img/mod01/stata/value-labels-04.png" width="75%" /></p>
<p>There are a number of ways that we can confirm that the labelling has been done correctly. One of the easiest ways is to use the <code>codebook</code> command to investigate the coding of sex: <strong>Data &gt; Describe data &gt; Describe data contents (codebook)</strong>.</p>
<pre class="text"><code>. codebook sex

----------------------------------------------------------------------------------------
sex                                                                          (unlabeled)
----------------------------------------------------------------------------------------

                  type:  numeric (long)
                 label:  sex_label

                 range:  [1,2]                        units:  1
         unique values:  2                        missing .:  0/418

            tabulation:  Freq.   Numeric  Label
                            44         1  Male
                           374         2  Female</code></pre>
<p>Here we can see that the codes for male and female have been applied correctly. We can also examine the Data Browser and confirm that sex has been labelled.</p>
<p>Note: If you want to see the original coded values of the labelled groups in the Data Browser window, you can hide the value labels by choosing <strong>Tools &gt; Value labels &gt; Hide all value labels</strong> for Windows, or <strong>View &gt; Value labels &gt; Hide all value labels</strong> for Mac from the menu bar in the Data Browser window.</p>
<p><strong>TASK:</strong> create and apply value labels for Vital Status.</p>
<p>Now that our categorical variables are labelled, we can produce the one-way frequency tables. As before, choose <strong>Statistics &gt; Summaries, tables, and tests &gt; Frequency tables &gt; One-way table</strong>. Our newly labelled table for sex appears as below.</p>
<pre class="text"><code>        sex |      Freq.     Percent        Cum.
------------+-----------------------------------
       Male |         44       10.53       10.53
     Female |        374       89.47      100.00
------------+-----------------------------------
      Total |        418      100.00</code></pre>
<p><strong>TASK:</strong> produce one-way frequency tables for the other categorical variables in Table 1 (stage and vital status).</p>
</div>
<div id="producing-a-two-way-frequency-table" class="section level3 hasAnchor" number="1.9.9">
<h3><span class="header-section-number">1.9.9</span> Producing a two-way frequency table<a href="an-introduction-to-stata.html#producing-a-two-way-frequency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To produce tables summarising two categorical variables, go to <strong>Statistics - Summaries, tables, and tests - Frequency tables - Two-way table with measures of association</strong>.</p>
<p>To produce a two-way table showing stage of disease by sex using the pbc.dta data, do the following. In the <strong>tabulate2 – two way table with measures of association dialog box</strong>, select the variable <code>sex</code> as the <strong>Row variable:</strong>, and <code>stage</code> as the <strong>Column variable:</strong> as shown below.</p>
<p><img src="img/mod01/stata/mod01-twoway.png" width="75%" /></p>
<p>Click <strong>OK</strong> to obtain the output below.</p>
<pre class="text"><code>. tabulate sex stage

           |                    stage
       sex |   Stage 1    Stage 2    Stage 3    Stage 4 |     Total
-----------+--------------------------------------------+----------
      Male |         3          8         16         17 |        44 
    Female |        18         84        139        127 |       368 
-----------+--------------------------------------------+----------
     Total |        21         92        155        144 |       412 </code></pre>
<p>You may notice in the above that the number of observations is now 412. This is because there are missing observations for either sex or stage: which is it, and how would you determine this?</p>
<p>From the cross-tabulation, you can see the individual frequencies of participants in each of the categories in each cell. For example, there are 3 male participants who have Stage 1 disease. You can also read the totals for each row and column. For example, there are 44 males, and 144 participants have Stage 4 disease.</p>
<p>You can also add percentages into your table. For example, in the <strong>tabulate2 – two way table with measures of association</strong> dialog box tick the box <strong>Within-column relative frequencies</strong> for separate percentages of sex within each stage.</p>
<pre class="text"><code>. tabulate sex stage, column

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

           |                    stage
       sex |   Stage 1    Stage 2    Stage 3    Stage 4 |     Total
-----------+--------------------------------------------+----------
      Male |         3          8         16         17 |        44 
           |     14.29       8.70      10.32      11.81 |     10.68 
-----------+--------------------------------------------+----------
    Female |        18         84        139        127 |       368 
           |     85.71      91.30      89.68      88.19 |     89.32 
-----------+--------------------------------------------+----------
     Total |        21         92        155        144 |       412 
           |    100.00     100.00     100.00     100.00 |    100.00 </code></pre>
<p>We can see that the 3 male participants with Stage 1 disease made up 14% of those with Stage 1 disease.</p>
</div>
<div id="saving-data-from-stata" class="section level3 hasAnchor" number="1.9.10">
<h3><span class="header-section-number">1.9.10</span> Saving data from Stata<a href="an-introduction-to-stata.html#saving-data-from-stata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that you have made some changes to the pbc data, it is good practice to save the dataset. Stata uses its own file format to save data. Data saved from Stata will end with the .dta suffix, and will contain useful information such as variable labels and value labels, as well as any new variables created. However, data saved by Stata will only be able to be opened by Stata - you will not easily be able to share your data with colleagues who do not have Stata. To save a Stata dataset, choose <strong>File &gt; Save</strong>.</p>
<p>If you want to share data with colleagues who do not have Stata, you can use <strong>File &gt; Export</strong> to save your data in another file format (recognising that variable and value labels will not be exported.)</p>
</div>
<div id="copying-output-from-stata" class="section level3 hasAnchor" number="1.9.11">
<h3><span class="header-section-number">1.9.11</span> Copying output from Stata<a href="an-introduction-to-stata.html#copying-output-from-stata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is important to note that <em>saving data in Stata will not save your output</em>. Stata data and output are completely separate to one another. The easiest way to retain the output of your analyses is to copy the output into a word processor package (e.g. Microsoft Word) before closing Stata. Once Stata is closed, all the output (that is, all your hard work!) is lost.</p>
<p>To copy output from Stata, you can select the output and choose <strong>Edit &gt; Copy</strong>. This will copy the output as plain text for pasting into a Word document. If you select a single table for copying, you can also <strong>Copy table</strong> or <strong>Copy table as HTML</strong>. Whichever way you copy output into Word, you will need to make sure you reformat the table and relabel your header row and column properly for your assignments as described in Module 1. Alternatively, you can copy with the Copy table option for pasting into an Excel worksheet and reformat your table in Excel before pasting into Word.</p>
<p>Copying output from Stata can get a little complicated to explain. We have included a video on Moodle to summarise the different ways output can be copied.</p>
<p><strong>TASK:</strong> complete Table 1 using the output generated in this exercise. You should decide on whether to present continuous variables by their means or medians, and present the most appropriate measure of spread. Include footnotes to indicate if any variables contain missing observations.</p>
</div>
</div>
<div id="part-3-creating-other-types-of-graphs" class="section level2 unnumbered hasAnchor">
<h2>Part 3: Creating other types of graphs<a href="an-introduction-to-stata.html#part-3-creating-other-types-of-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="bar-graphs-1" class="section level3 hasAnchor" number="1.9.12">
<h3><span class="header-section-number">1.9.12</span> Bar graphs<a href="an-introduction-to-stata.html#bar-graphs-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here we will create the bar chart shown in Figure <a href="introduction-to-statistics-and-presenting-data.html#fig:fig-1-1">1.3</a> using the <code>pbc.dta</code> dataset. The x-axis of this graph will be the stage of disease, and the y-axis will show the number of participants in each category.</p>
<p>To create a Bar chart, go to the Stata menu Graphics &gt; Bar chart and the bar-chart dialog box will appear.</p>
<div id="simple-bar-graph" class="section level4 hasAnchor" number="1.9.12.1">
<h4><span class="header-section-number">1.9.12.1</span> Simple bar graph<a href="an-introduction-to-stata.html#simple-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For most of our bar graphs, we will be plotting frequencies, so we choose <strong>Graph of frequencies within categories</strong></p>
<p><img src="img/mod01/stata/bar-01.png" width="75%" /></p>
<p>For a simple bar graph, go to the <strong>Categories</strong> tab, tick the <strong>Group 1</strong> box and choose <code>stage</code> as your first grouping variable:</p>
<p><img src="img/mod01/stata/bar-02.png" width="75%" /></p>
<p>Click the <strong>Y axis</strong> tab to include a more meaningful label for the y axis:</p>
<p><img src="img/mod01/stata/bar-03.png" width="75%" /></p>
<p>Click <strong>Submit</strong> or <strong>OK</strong>, and the following graph will appear:</p>
<p><img src="img/mod01/stata/bar-04.png" width="75%" /></p>
<p>Note: Value labels have been assigned to stage to create more meaningful output, and bar colours have been changed to allow for grey-scale printing.</p>
</div>
</div>
<div id="submit-vs-ok-button" class="section level3 hasAnchor" number="1.9.13">
<h3><span class="header-section-number">1.9.13</span> Submit vs OK button<a href="an-introduction-to-stata.html#submit-vs-ok-button" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You may note that most dialog boxes in Stata have two choices: the <strong>Submit</strong> button, and the <strong>OK</strong> button. Both buttons will submit the command to be run, and both will produce a graph. The <strong>Submit</strong> button will submit the command but leave the dialog box open, while the <strong>OK</strong> button will submit the command and close the dialog box. Given the building a graph often involves many incremental changes, the <strong>Submit</strong> button is a useful option.</p>
</div>
<div id="clustered-bar-graph" class="section level3 hasAnchor" number="1.9.14">
<h3><span class="header-section-number">1.9.14</span> Clustered bar graph<a href="an-introduction-to-stata.html#clustered-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To create a clustered bar chart as shown in Figure <a href="introduction-to-statistics-and-presenting-data.html#fig:fig-1-2">1.4</a>, go to: <strong>Graphics &gt; Bar chart</strong> again. With the previous settings in place (i.e. stage as grouping variable and with appropriate axes labels), now choose <code>sex</code> as the <strong>Group 1</strong> variable, and tick <strong>Group 2</strong> and choose <code>stage</code> as the second grouping variable.</p>
<p><img src="img/mod01/stata/bar-05.png" width="75%" /></p>
<p>In the <strong>Options</strong> tab, tick <strong>Treat first category grouping as y variables</strong>. When you are done, click <strong>OK</strong> or <strong>Submit</strong>.</p>
<p><img src="img/mod01/stata/bar-06.png" width="75%" /></p>
<p><img src="img/mod01/stata/bar-07.png" width="75%" /></p>
<p>In a clustered bar chart, the <strong>Group 2</strong> variable is the main variable grouping (here, <code>stage</code>), and each of the <strong>Group 2</strong> categories is split by the <strong>Group 1</strong> variable (here, <code>sex</code>).</p>
</div>
<div id="stacked-bar-graph" class="section level3 hasAnchor" number="1.9.15">
<h3><span class="header-section-number">1.9.15</span> Stacked bar graph<a href="an-introduction-to-stata.html#stacked-bar-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To create a stacked bar chart shown in Figure <a href="introduction-to-statistics-and-presenting-data.html#fig:fig-1-3">1.5</a>, bring up the <strong>Bar chart</strong> dialog box, go to the <strong>Options</strong> tab and tick <strong>Stack bars on y variables</strong>.</p>
<p><img src="img/mod01/stata/bar-08.png" width="75%" /></p>
<p><img src="img/mod01/stata/bar-10.png" width="75%" /></p>
</div>
<div id="stacked-bar-graph-of-relative-frequencies" class="section level3 hasAnchor" number="1.9.16">
<h3><span class="header-section-number">1.9.16</span> Stacked bar graph of relative frequencies<a href="an-introduction-to-stata.html#stacked-bar-graph-of-relative-frequencies" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If one wants to compare the sex distribution across the stage categories, it would be convenient if all the bars have the same height (100%). To generate such a bar chart in Stata, tick <strong>Base bar heights on percentages</strong> in the <strong>Options</strong> tab of the <strong>Bar charts</strong> dialog box. Change the y-axis title in the <strong>Y axis</strong> tab to <code>Percentage of students in each age group</code>.</p>
<p><img src="img/mod01/stata/bar-11.png" width="75%" /></p>
<p><img src="img/mod01/stata/bar-12.png" width="75%" /></p>
</div>
<div id="editing-graphs-in-stata" class="section level3 hasAnchor" number="1.9.17">
<h3><span class="header-section-number">1.9.17</span> Editing graphs in Stata<a href="an-introduction-to-stata.html#editing-graphs-in-stata" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are two main approaches of editing many aspects of a graph (such as colours, labels, font-size etc). The first approach is to use options within the dialog boxes. For example, if we wanted to use a grey-and-white colour scheme for Figure X, we can define the colours of the bars in the Bars tab of the bar chart dialog box.</p>
<p>Here, we will define Bar 1 to be <code>White</code>:</p>
<p><img src="img/mod01/stata/edit-01.png" width="75%" /></p>
<p><img src="img/mod01/stata/edit-02.png" width="75%" /></p>
<p>Bar 2 can be defined to be <code>Gray</code>, resulting in the graph below:</p>
<p><img src="img/mod01/stata/edit-03.png" width="75%" /></p>
<p>The second approach to customising graphs is to use the <strong>Graph Editor</strong>. Each Stata graph window includes a Graph Editor button:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-44"></span>
<img src="img/mod01/stata/edit-04.png" alt="Graph editor button on Stata for Windows" width="75%" />
<p class="caption">
Figure 1.10: Graph editor button on Stata for Windows
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-45"></span>
<img src="img/mod01/stata/edit-05.png" alt="Graph editor button on Stata for MacOS" width="75%" />
<p class="caption">
Figure 1.11: Graph editor button on Stata for MacOS
</p>
</div>
<p>The <strong>Graph Editor</strong> window comprises two main sections: the graph that can be edited on the left, and a list of elements of the graph on the right. Most aspects of a graph’s appearance can be edited in the Graph Editor, usually by double-clicking an element (e.g. a bar, or a bar segment) and changing its properties. There are too many ways to change a graph’s appearance to document here: feel free to explore and experiment!</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-46"></span>
<img src="img/mod01/stata/edit-06.png" alt="Graph editor window: Windows" width="75%" />
<p class="caption">
Figure 1.12: Graph editor window: Windows
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-47"></span>
<img src="img/mod01/stata/edit-07.png" alt="Graph editor window: MacOS" width="75%" />
<p class="caption">
Figure 1.13: Graph editor window: MacOS
</p>
</div>
<p>When you are done editing in the Graph Editor, click the Graph Editor icon again to stop the Graph Editor. You will be prompted to save your graph. You can click the <strong>Save</strong> button, choose <strong>Save as</strong> and choose to save using the <strong>PNG (*.png)</strong> format. You can then insert your saved PNG file into your word processing package as usual.</p>
</div>
<div id="creating-line-graphs" class="section level3 hasAnchor" number="1.9.18">
<h3><span class="header-section-number">1.9.18</span> Creating line graphs<a href="an-introduction-to-stata.html#creating-line-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To demonstrate the graphing of aggregate data with Stata, we use the data on new cases and deaths from prostate cancer in males in NSW. This data has been entered into Stata as <code>Example_1.2.dta</code>.</p>
<p>If you look at the data in the <strong>Data Editor</strong> window, you will see that there are 20 rows - a row for each year of data. Each row contains the number of new cases (<code>NCases</code>), number of deaths (<code>NDeaths</code>), the incidence rate (<code>RCases</code>) and death rate (<code>RDeaths</code>).</p>
<p>To create a line graph as in Figure <a href="introduction-to-statistics-and-presenting-data.html#fig:fig-1-5">1.7</a> select <strong>Graphics &gt; Twoway graph (scatter, line, etc.)</strong> and click the <strong>Create…</strong> button in the <strong>twoway – Twoway graphs</strong> dialog box to bring up a dialog box for defining Plot 1.</p>
<p><img src="img/mod01/stata/line-01.png" width="75%" /></p>
<p>Choose <strong>Line</strong> as the plot type, <code>rcases</code> as the <strong>Y variable</strong> and <code>year</code> as the <strong>X variable</strong> as shown below.</p>
<p><img src="img/mod01/stata/line-02.png" width="75%" /></p>
<p>Click <strong>Accept</strong>, and then click <strong>Submit</strong> to check how the graph looks.</p>
<p><img src="img/mod01/stata/line-03.png" width="75%" /></p>
<p>This looks ok, but we want to add the death rate to the plot. Click <strong>Create…</strong> again and add a Plot 2 for mortality rate:</p>
<p><img src="img/mod01/stata/line-03-1.png" width="75%" /></p>
<p>Choose <strong>Line</strong> as the plot type again, <code>rdeaths</code> as the <strong>Y</strong> variable and <code>year</code> as the <strong>X variable</strong>. Click <strong>Accept</strong>, and then <strong>Submit</strong> to check how the graph looks like now. You should see both variables plotted:</p>
<p><img src="img/mod01/stata/line-04.png" width="75%" /></p>
<p>To change the format of either line, click the relevant plot definition in the main <strong>twoway</strong> dialog box and click <strong>Edit</strong>. Click the <strong>Line properties</strong> button and choose a <strong>Pattern</strong> (e.g. Short-dash), then click <strong>Submit</strong> again.</p>
<p><img src="img/mod01/stata/line-05.png" width="75%" /></p>
<p><img src="img/mod01/stata/line-06.png" width="75%" /></p>
<p><img src="img/mod01/stata/line-07.png" width="75%" /></p>
<p><img src="img/mod01/stata/line-08.png" width="75%" /></p>
<p>Next, we need an appropriate label for the y-axis. In the main <strong>twoway</strong> dialog box, click on the <strong>Y axis</strong> tab and label the title appropriately (e.g. <code>Age-standardardised rate</code> and then click <strong>OK</strong> or <strong>Submit</strong>. The graph below should be produced.</p>
<p><img src="img/mod01/stata/line-09.png" width="75%" /></p>
<p>[Command: <code>twoway (line rcases year) (line rdeaths year, lpattern(shortdash)), ytitle(Age-standardised rate)</code>]</p>

</div>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-therneau_grambsch10" class="csl-entry">
Therneau, Terry M., and Patricia M. Grambsch. 2010. <em>Modeling <span>Survival Data</span>: <span>Extending</span> the <span>Cox Model</span></em>. <span>New York Berlin Heidelberg</span>: <span>Springer</span>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-statistics-and-presenting-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="learning-activities.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PHCM9795.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
